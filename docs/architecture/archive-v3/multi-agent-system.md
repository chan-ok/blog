# ë©€í‹° ì—ì´ì „íŠ¸ ì‹œìŠ¤í…œ ì•„í‚¤í…ì²˜

## ğŸ“‹ ëª©ì°¨

- [ê°œìš”](#ê°œìš”)
- [ì‹œìŠ¤í…œ êµ¬ì¡°](#ì‹œìŠ¤í…œ-êµ¬ì¡°)
- [ì—ì´ì „íŠ¸ ì—­í•  ìƒì„¸](#ì—ì´ì „íŠ¸-ì—­í• -ìƒì„¸)
- [ëª…ì„¸ì„œ ì‹œìŠ¤í…œ](#ëª…ì„¸ì„œ-ì‹œìŠ¤í…œ)
- [ë¹„ë™ê¸° í†µì‹  ì•„í‚¤í…ì²˜](#ë¹„ë™ê¸°-í†µì‹ -ì•„í‚¤í…ì²˜)
- [ì»¨í…Œì´ë„ˆ ê²©ë¦¬ ì „ëµ](#ì»¨í…Œì´ë„ˆ-ê²©ë¦¬-ì „ëµ)
- [ìë™ ìŠ¹ì¸ ì •ì±…](#ìë™-ìŠ¹ì¸-ì •ì±…)
- [ì‹¤ì‹œê°„ ê°ì§€ ë©”ì»¤ë‹ˆì¦˜](#ì‹¤ì‹œê°„-ê°ì§€-ë©”ì»¤ë‹ˆì¦˜)
- [ì˜¤í† ìŠ¤ì¼€ì¼ë§](#ì˜¤í† ìŠ¤ì¼€ì¼ë§)
- [ì‹œí–‰ì°©ì˜¤ ê´€ë¦¬](#ì‹œí–‰ì°©ì˜¤-ê´€ë¦¬)
- [Phaseë³„ êµ¬í˜„ ê³„íš](#phaseë³„-êµ¬í˜„-ê³„íš)
- [ê¸°ì¡´ ì‹œìŠ¤í…œê³¼ì˜ ë§ˆì´ê·¸ë ˆì´ì…˜](#ê¸°ì¡´-ì‹œìŠ¤í…œê³¼ì˜-ë§ˆì´ê·¸ë ˆì´ì…˜)

## ê°œìš”

### í˜„ì¬ ì‹œìŠ¤í…œì˜ í•œê³„

**1. ë™ê¸°ì‹ ì‹¤í–‰ì˜ ë¹„íš¨ìœ¨**
- ëª¨ë“  ì—ì´ì „íŠ¸ê°€ ìˆœì°¨ì ìœ¼ë¡œ ì‹¤í–‰ë˜ì–´ ë³‘ë ¬ ì²˜ë¦¬ ë¶ˆê°€
- í•˜ë‚˜ì˜ ì‘ì—…ì´ ì™„ë£Œë  ë•Œê¹Œì§€ ë‹¤ë¥¸ ì—ì´ì „íŠ¸ëŠ” ëŒ€ê¸°
- ì˜ˆ: ê¸°ëŠ¥ ê°œë°œ 3ê°œ â†’ 3ë°°ì˜ ì‹œê°„ ì†Œìš” (ë³‘ë ¬ ì²˜ë¦¬ ì‹œ 1ë°°)

**2. ë¹ˆë²ˆí•œ ê¶Œí•œ ìš”ì²­**
- ëª¨ë“  íŒŒì¼ ìˆ˜ì •/ì»¤ë°‹ì— ì‚¬ìš©ì ìŠ¹ì¸ í•„ìš”
- ì›Œí¬í”Œë¡œìš° ì¤‘ë‹¨ ë¹ˆë„ ì¦ê°€
- ê°œë°œ ì†ë„ ì €í•˜

**3. ê²©ë¦¬ í™˜ê²½ ë¶€ì¬**
- ëª¨ë“  ì—ì´ì „íŠ¸ê°€ ë™ì¼í•œ íŒŒì¼ ì‹œìŠ¤í…œ ê³µìœ 
- ë™ì‹œ ì‘ì—… ì‹œ ì¶©ëŒ ê°€ëŠ¥ì„±
- í…ŒìŠ¤íŠ¸ í™˜ê²½ê³¼ ì‹¤ì œ í™˜ê²½ ë¶„ë¦¬ ë¶ˆê°€

**4. ìƒíƒœ ê´€ë¦¬ ë¶€ì¬**
- ì§„í–‰ ìƒí™© ì¶”ì  ì–´ë ¤ì›€
- ì‘ì—… ì™„ë£Œ ì—¬ë¶€ íŒë‹¨ ë¶ˆëª…í™•
- ë¡¤ë°±/ì¬ì‹œë„ ë©”ì»¤ë‹ˆì¦˜ ì—†ìŒ

### ëª©í‘œ ì•„í‚¤í…ì²˜

**ë¹„ë™ê¸° + ë³‘ë ¬ ì²˜ë¦¬**
- ë…ë¦½ì ì¸ ì‘ì—…ì€ ë™ì‹œ ì‹¤í–‰
- í ê¸°ë°˜ ì‘ì—… ê´€ë¦¬
- ì‹¤ì‹œê°„ ì§„í–‰ ìƒí™© ì¶”ì 

**Kubernetes ê¸°ë°˜ ê²©ë¦¬**
- Kubernetes Podë¡œ ì‘ì—… í™˜ê²½ ë¶„ë¦¬
- ì½ê¸° ì „ìš© ê¶Œí•œìœ¼ë¡œ ì•ˆì „ì„± í™•ë³´
- í…ŒìŠ¤íŠ¸ ì‹¤í–‰ í™˜ê²½ ë…ë¦½

**ìë™ ìŠ¤ì¼€ì¼ë§**
- KEDA ê¸°ë°˜ 0â†’N ì˜¤í† ìŠ¤ì¼€ì¼ë§
- ì‘ì—…ëŸ‰ì— ë”°ë¼ Pod ì¦ê° (ìœ íœ´ ì‹œ 0ê°œë¡œ ë¹„ìš© ìµœì í™”)
- ë¦¬ì†ŒìŠ¤ íš¨ìœ¨ì  í™œìš©

**ëª…ì„¸ì„œ ì¤‘ì‹¬ ê´€ë¦¬**
- ë‹¨ì¼ ì§„ì‹¤ ê³µê¸‰ì› (Single Source of Truth)
- ì‹¤ì‹œê°„ ìƒíƒœ ì¶”ì 
- ë³€ê²½ ì´ë ¥ ìë™ ë°˜ì˜

## ì‹œìŠ¤í…œ êµ¬ì¡°

### ì „ì²´ ì•„í‚¤í…ì²˜

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        ì‚¬ìš©ì (User)                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                             â”‚ ìš”êµ¬ì‚¬í•­ ì…ë ¥
                             â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   ì»¨ì„¤í„´íŠ¸ (Consultant)                          â”‚
â”‚                   [OpenCode Pod - ì‹¤ì‹œê°„]                        â”‚
â”‚  â€¢ ìš”êµ¬ì‚¬í•­ êµ¬ì²´í™”                                               â”‚
â”‚  â€¢ ìˆ¨ê²¨ì§„ ë‹ˆì¦ˆ ë°œêµ´                                              â”‚
â”‚  â€¢ ìŠ¹ì¸ ìš”ì²­ ìƒì„±                                                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                             â”‚ ìŠ¹ì¸
                             â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                ëª…ì„¸ì„œ ê´€ë¦¬ì (Spec Manager)                       â”‚
â”‚                  [Pod - ì‹¤ì‹œê°„ ê°ì§€ Watchman]                    â”‚
â”‚  â€¢ ëª…ì„¸ì„œ ì‘ì„±/ê°±ì‹                                               â”‚
â”‚  â€¢ ì§„í–‰ ìƒí™© ì¶”ì  (ğŸŸ¢ğŸŸ¡ğŸ”´)                                      â”‚
â”‚  â€¢ ë³€ê²½ì‚¬í•­ ê°ì§€ â†’ ì¬í• ë‹¹                                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                             â”‚ ëª…ì„¸ì„œ ì „ë‹¬
                             â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              í”„ë¡œì íŠ¸ ë¦¬ë“œ (Project Lead)                         â”‚
â”‚                  [Pod - ë¹„ì‹¤ì‹œê°„ Watchman]                       â”‚
â”‚  â€¢ ê¸°ìˆ  ê³„íš ìˆ˜ë¦½                                                â”‚
â”‚  â€¢ ì‘ì—… ë¶„í•  ë° í• ë‹¹                                             â”‚
â”‚  â€¢ ì•„í‚¤í…ì²˜ ì˜ì‚¬ê²°ì •                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                             â”‚ ì‘ì—… í ìƒì„±
            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
            â†“                                  â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ë°±ê·¸ë¼ìš´ë“œ ê°œë°œ íŒ€       â”‚      â”‚   ë¦¬ë·°ì–´ (Reviewer)      â”‚
â”‚  [Worker Pod Nê°œ - ê²©ë¦¬]  â”‚      â”‚   [Pod - ë¹„ë™ê¸°]         â”‚
â”‚  â€¢ ê¸°ëŠ¥ ê°œë°œ              â”‚      â”‚   â€¢ ì½”ë“œ ë¦¬ë·°            â”‚
â”‚  â€¢ í…ŒìŠ¤íŠ¸ ì‘ì„±            â”‚      â”‚   â€¢ ì²´í¬ë¦¬ìŠ¤íŠ¸ ìƒì„±      â”‚
â”‚  â€¢ ë¡œì»¬ í…ŒìŠ¤íŠ¸ ì‹¤í–‰       â”‚      â”‚   â€¢ ê°œì„  ì œì•ˆ            â”‚
â”‚  â€¢ KEDA ì˜¤í† ìŠ¤ì¼€ì¼ë§      â”‚      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                 â”‚
             â”‚ ì‘ì—… ë³´ê³                       â”‚ ë¦¬ë·° ê²°ê³¼
             â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                             â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                 ì‹ ì… (Junior Developer)                          â”‚
â”‚                  [Pod - ë¹„ë™ê¸° Watchman]                         â”‚
â”‚  â€¢ ë³€ê²½ ì´ë ¥ í™•ì¸                                                â”‚
â”‚  â€¢ ì§ˆë¬¸ ìƒì„± ("ì™œ?", "ê·¼ê±°ëŠ”?")                                  â”‚
â”‚  â€¢ í•™ìŠµ ë° ë¬¸ì„œí™”                                                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                             â”‚ ì§ˆë¬¸/í”¼ë“œë°±
                             â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                  ê¹ƒ ë§¤ë‹ˆì € (Git Manager)                          â”‚
â”‚                   [OpenCode Pod - ì‹¤ì‹œê°„]                        â”‚
â”‚  â€¢ Git ì‘ì—… ê´€ë¦¬ (ì»¤ë°‹, í‘¸ì‹œ, ë¸Œëœì¹˜)                            â”‚
â”‚  â€¢ PR ìƒì„± (ì¼ë¶€ ìë™, ì¼ë¶€ ìˆ˜ë™)                                â”‚
â”‚  â€¢ ì¶©ëŒ í•´ê²°                                                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ë°ì´í„° íë¦„

```mermaid
sequenceDiagram
    participant U as ì‚¬ìš©ì
    participant C as ì»¨ì„¤í„´íŠ¸
    participant SM as ëª…ì„¸ì„œ ê´€ë¦¬ì
    participant PL as í”„ë¡œì íŠ¸ ë¦¬ë“œ
    participant Q as ì‘ì—… í
    participant BG as ë°±ê·¸ë¼ìš´ë“œ íŒ€
    participant R as ë¦¬ë·°ì–´
    participant GM as ê¹ƒ ë§¤ë‹ˆì €

    U->>C: ìš”êµ¬ì‚¬í•­ ì…ë ¥
    C->>C: ìš”êµ¬ì‚¬í•­ êµ¬ì²´í™”
    C->>SM: ìŠ¹ì¸ ìš”ì²­
    SM->>SM: ëª…ì„¸ì„œ ì‘ì„±
    SM->>PL: ëª…ì„¸ì„œ ì „ë‹¬
    PL->>PL: ì‘ì—… ë¶„í• 
    PL->>Q: ì‘ì—… í ìƒì„±
    
    loop ë³‘ë ¬ ì²˜ë¦¬
        Q->>BG: ì‘ì—… í• ë‹¹
        BG->>BG: ê°œë°œ + í…ŒìŠ¤íŠ¸
        BG->>SM: ì§„í–‰ ìƒí™© ë³´ê³ 
        SM->>SM: ëª…ì„¸ì„œ ê°±ì‹  (ğŸŸ¢ğŸŸ¡ğŸ”´)
    end
    
    BG->>R: ì½”ë“œ ë¦¬ë·° ìš”ì²­
    R->>R: ì²´í¬ë¦¬ìŠ¤íŠ¸ ìƒì„±
    R->>GM: ì»¤ë°‹ ìš”ì²­
    GM->>U: ìŠ¹ì¸ ìš”ì²­ (í•„ìš”ì‹œ)
    U->>GM: ìŠ¹ì¸
    GM->>GM: ì»¤ë°‹ & í‘¸ì‹œ
```

### ì»´í¬ë„ŒíŠ¸ ê´€ê³„ë„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         ì‹¤ì‹œê°„ ê°ì§€ ë ˆì´ì–´               â”‚
â”‚  (OpenCode Pod ì§ì ‘ ì‹¤í–‰)                â”‚
â”‚  â€¢ ì»¨ì„¤í„´íŠ¸                              â”‚
â”‚  â€¢ ëª…ì„¸ì„œ ê´€ë¦¬ì (íŒŒì¼ ë³€ê²½ ê°ì§€)       â”‚
â”‚  â€¢ ê¹ƒ ë§¤ë‹ˆì €                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                  â†•
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         ê³µìš© Pod (Watchman ê°ì§€)         â”‚
â”‚  â€¢ í”„ë¡œì íŠ¸ ë¦¬ë“œ                         â”‚
â”‚  â€¢ ë¦¬ë·°ì–´                                â”‚
â”‚  â€¢ ì‹ ì…                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                  â†•
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚       ê²©ë¦¬ Worker Pod (KEDA Nê°œ)         â”‚
â”‚  â€¢ ë°±ê·¸ë¼ìš´ë“œ ê°œë°œ íŒ€                    â”‚
â”‚  â€¢ 0â†’N ì˜¤í† ìŠ¤ì¼€ì¼ë§                      â”‚
â”‚  â€¢ ì½ê¸° ì „ìš© ê¶Œí•œ                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Kubernetes Pod êµ¬ì„±ë„ (v3.0.0)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    Kubernetes Cluster (k3s)                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ gateway Pod (multi-container)    â”‚  â”‚ NATS Pod           â”‚   â”‚
â”‚  â”‚ - consultant (ì‚¬ìš©ì ëŒ€ë©´)       â”‚  â”‚ (~50MB RAM)        â”‚   â”‚
â”‚  â”‚ - git-manager (Git ì‘ì—…)         â”‚  â”‚ ì•Œë¦¼ í•‘ë§Œ          â”‚   â”‚
â”‚  â”‚ ì™¸ë¶€ ë…¸ì¶œ                        â”‚  â”‚                    â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ coordinator Pod (multi-container)â”‚  â”‚ PostgreSQL Pod     â”‚   â”‚
â”‚  â”‚ - spec-manager (ëª…ì„¸ì„œ ê´€ë¦¬)     â”‚  â”‚ + pgvector         â”‚   â”‚
â”‚  â”‚ - project-lead (ê¸°ìˆ  ê³„íš)       â”‚  â”‚ (512MB RAM)        â”‚   â”‚
â”‚  â”‚ - reviewer (ì½”ë“œ ë¦¬ë·°)           â”‚  â”‚ ì‹œí–‰ì°©ì˜¤ DB        â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ Worker Pod Ã—0â†’3 (KEDA NATS scaler)                        â”‚   â”‚
â”‚  â”‚ background-dev (ê¸°ëŠ¥ ê°œë°œ / í…ŒìŠ¤íŠ¸)                       â”‚   â”‚
â”‚  â”‚ ì½ê¸° ì „ìš© + emptyDir /scratch                              â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                   â”‚
â”‚  PVC (RWX) â€” ê³µìœ  íŒŒì¼ ì‹œìŠ¤í…œ (specs, code)                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

ë¦¬ì†ŒìŠ¤ ì˜ˆì‚°:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ êµ¬ë¶„             â”‚ CPU     â”‚ RAM      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ k3s ì»¨íŠ¸ë¡¤ í”Œë ˆì¸â”‚ 0.5     â”‚ 750MB    â”‚
â”‚ gateway Pod      â”‚ 0.4     â”‚ 768MB    â”‚
â”‚ coordinator Pod  â”‚ 0.6     â”‚ 896MB    â”‚
â”‚ nats Pod         â”‚ 0.05    â”‚ 64MB     â”‚
â”‚ postgresql Pod   â”‚ 0.5     â”‚ 512MB    â”‚
â”‚ ê³ ì • í•©ê³„        â”‚ 1.55    â”‚ 3.1GB    â”‚
â”‚ Worker Ã—3 (ìµœëŒ€) â”‚ 1.5     â”‚ 2.3GB    â”‚
â”‚ ì´ ìµœëŒ€          â”‚ 3.55    â”‚ 6.15GB   â”‚
â”‚ ì—¬ìœ              â”‚ 0.45    â”‚ 1.85GB   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**ì„¤ê³„ ê·¼ê±°**:
- **Pod í†µí•©**: 8ê°œ â†’ 4ê°œ ê³ ì • + Worker 0â†’3. ì»¨í…Œì´ë„ˆ ì˜¤ë²„í—¤ë“œ ê°ì†Œ (~500MB RAM ì ˆì•½)
- **NATS ê²½ëŸ‰ì„±**: Redis(100~300MB) â†’ NATS(~50MB). ì•Œë¦¼ í•‘ë§Œ ì „ë‹¬, ìƒì„¸ ì •ë³´ëŠ” spec íŒŒì¼ì—
- **Worker ì¶•ì†Œ**: 0â†’6ì—ì„œ 0â†’3ìœ¼ë¡œ ì¶•ì†Œ. ëª…ì„¸ì„œ ì¤‘ì‹¬ í†µì‹ ìœ¼ë¡œ ì‘ì—… íš¨ìœ¨ì„± ì¦ê°€
- **ëª¨ë‹ˆí„°ë§ ì œê±°**: Prometheus + Loki + Jaeger + Grafana ì œê±° (1GB+ ì ˆì•½) â†’ kubectl logs + k9s

## ì—ì´ì „íŠ¸ ì—­í•  ìƒì„¸

### 1. ì»¨ì„¤í„´íŠ¸ (Consultant)

**ì‹¤í–‰ í™˜ê²½**: í„°ë¯¸ë„ (ì‹¤ì‹œê°„ ê°ì§€ í•„ìš”)

**ì™œ í•„ìš”í•œê°€**
- ì‚¬ìš©ìì˜ ëª¨í˜¸í•œ ìš”êµ¬ì‚¬í•­ì„ êµ¬ì²´í™”
- ê¸°ìˆ ì  ì œì•½ì‚¬í•­ê³¼ ë¹„ì¦ˆë‹ˆìŠ¤ ìš”êµ¬ì‚¬í•­ì˜ ê· í˜•
- ëª…í™•í•œ ì‘ì—… ë²”ìœ„ ì •ì˜ë¡œ í›„ì† ì‘ì—… íš¨ìœ¨ í–¥ìƒ

**ì–´ë–»ê²Œ êµ¬í˜„í•  ê²ƒì¸ê°€**

```typescript
// âš ï¸ ë¡œì§ ì´í•´ìš© ì˜ˆì‹œ ì½”ë“œ â€” ì‹¤ì œ ì—ì´ì „íŠ¸ëŠ” .agents/agents/*.md í”„ë¡¬í”„íŠ¸ë¡œ êµ¬í˜„
// consultant-agent.ts
interface ConsultantConfig {
  conversationHistory: Message[];
  userContext: ProjectContext;
  clarificationQuestions: string[];
}

class ConsultantAgent {
  async clarifyRequirements(userInput: string): Promise<Specification> {
    // 1. ìš”êµ¬ì‚¬í•­ ë¶„ì„
    const analysis = await this.analyzeRequirement(userInput);
    
    // 2. ìˆ¨ê²¨ì§„ ë‹ˆì¦ˆ ë°œêµ´
    const hiddenNeeds = await this.detectHiddenNeeds(analysis);
    
    // 3. ëª…í™•í™” ì§ˆë¬¸ ìƒì„±
    const questions = await this.generateClarificationQuestions(hiddenNeeds);
    
    // 4. ì‚¬ìš©ìì™€ ëŒ€í™”
    const answers = await this.conversateWithUser(questions);
    
    // 5. ëª…ì„¸ì„œ ì´ˆì•ˆ ì‘ì„±
    return await this.draftSpecification(answers);
  }
  
  async requestApproval(spec: Specification): Promise<boolean> {
    // ì‚¬ìš©ìì—ê²Œ ìŠ¹ì¸ ìš”ì²­
    return await this.promptUser(`ë‹¤ìŒ ì‘ì—…ì„ ì§„í–‰í• ê¹Œìš”?\n${spec.summary}`);
  }
}
```

**ì…ë ¥**: ì‚¬ìš©ì ìš”êµ¬ì‚¬í•­ (ìì—°ì–´)  
**ì¶œë ¥**: êµ¬ì²´í™”ëœ ëª…ì„¸ì„œ ì´ˆì•ˆ + ìŠ¹ì¸ ìš”ì²­

**ìƒí˜¸ì‘ìš©**
- ì‚¬ìš©ì â†” ì‹¤ì‹œê°„ ëŒ€í™”
- ëª…ì„¸ì„œ ê´€ë¦¬ì â†’ ëª…ì„¸ì„œ ì „ë‹¬

---

### 2. ëª…ì„¸ì„œ ê´€ë¦¬ì (Spec Manager)

**ì‹¤í–‰ í™˜ê²½**: ê³µìš© ì»¨í…Œì´ë„ˆ1 ë˜ëŠ” í„°ë¯¸ë„ (ì‹¤ì‹œê°„ ê°ì§€ í•„ìš”)

**ì™œ í•„ìš”í•œê°€**
- í”„ë¡œì íŠ¸ì˜ ë‹¨ì¼ ì§„ì‹¤ ê³µê¸‰ì›(Single Source of Truth)
- ëª¨ë“  ì—ì´ì „íŠ¸ê°€ ì°¸ì¡°í•  ì¤‘ì•™ ìƒíƒœ ê´€ë¦¬
- ë³€ê²½ì‚¬í•­ ìë™ ê°ì§€ ë° ì¬í• ë‹¹ìœ¼ë¡œ ì¼ê´€ì„± ìœ ì§€

**ì–´ë–»ê²Œ êµ¬í˜„í•  ê²ƒì¸ê°€**

```typescript
// âš ï¸ ë¡œì§ ì´í•´ìš© ì˜ˆì‹œ ì½”ë“œ â€” ì‹¤ì œ ì—ì´ì „íŠ¸ëŠ” .agents/agents/*.md í”„ë¡¬í”„íŠ¸ë¡œ êµ¬í˜„
// spec-manager-agent.ts
interface Specification {
  id: string;
  version: string;
  status: 'draft' | 'approved' | 'in-progress' | 'completed';
  requirements: Requirement[];
  tasks: Task[];
  progress: ProgressTracker;
}

interface Task {
  id: string;
  title: string;
  status: 'pending' | 'in-progress' | 'completed' | 'failed';
  statusEmoji: 'ğŸŸ¢' | 'ğŸŸ¡' | 'ğŸ”´'; // ì´ˆë¡/ë…¸ë‘/ë¹¨ê°•
  assignedTo?: string;
  dependencies: string[];
  createdAt: Date;
  updatedAt: Date;
}

class SpecManagerAgent {
  private watcher: FileWatcher;
  
  async watchSpecification(specPath: string): Promise<void> {
    // íŒŒì¼ ë³€ê²½ ê°ì§€
    this.watcher.on('change', async (event) => {
      const updatedSpec = await this.loadSpecification(specPath);
      await this.handleSpecChange(updatedSpec);
    });
  }
  
  async updateProgress(taskId: string, status: TaskStatus): Promise<void> {
    const spec = await this.loadSpecification();
    const task = spec.tasks.find(t => t.id === taskId);
    
    if (!task) throw new Error(`Task ${taskId} not found`);
    
    // ìƒíƒœ ì—…ë°ì´íŠ¸
    task.status = status;
    task.statusEmoji = this.mapStatusToEmoji(status);
    task.updatedAt = new Date();
    
    // ëª…ì„¸ì„œ ì €ì¥
    await this.saveSpecification(spec);
    
    // ì˜ì¡´ ì‘ì—… í™•ì¸
    await this.checkDependentTasks(taskId);
  }
  
  private mapStatusToEmoji(status: TaskStatus): string {
    switch (status) {
      case 'completed': return 'ğŸŸ¢';
      case 'in-progress': return 'ğŸŸ¡';
      case 'failed': return 'ğŸ”´';
      default: return 'âšª';
    }
  }
  
  async handleSpecChange(spec: Specification): Promise<void> {
    // 1. ë³€ê²½ ì‚¬í•­ ë¶„ì„
    const changes = await this.analyzeChanges(spec);
    
    // 2. ì˜í–¥ë°›ëŠ” ì‘ì—… ì‹ë³„
    const affectedTasks = await this.identifyAffectedTasks(changes);
    
    // 3. ì‘ì—… ì¬í• ë‹¹
    await this.reassignTasks(affectedTasks);
    
    // 4. ì—ì´ì „íŠ¸ ì•Œë¦¼
    await this.notifyAgents(affectedTasks);
  }
}
```

**ì…ë ¥**: ì»¨ì„¤í„´íŠ¸ì˜ ëª…ì„¸ì„œ ì´ˆì•ˆ  
**ì¶œë ¥**: ì •ì œëœ ëª…ì„¸ì„œ + ì§„í–‰ ìƒí™© ì¶”ì 

**ìƒí˜¸ì‘ìš©**
- ì»¨ì„¤í„´íŠ¸ â†’ ëª…ì„¸ì„œ ì´ˆì•ˆ ìˆ˜ì‹ 
- í”„ë¡œì íŠ¸ ë¦¬ë“œ â†’ ëª…ì„¸ì„œ ì „ë‹¬
- ë°±ê·¸ë¼ìš´ë“œ íŒ€ â† ì§„í–‰ ìƒí™© ìˆ˜ì‹ 
- ì‹¤ì‹œê°„ íŒŒì¼ ê°ì§€ â†’ ìë™ ì¬í• ë‹¹

---

### 3. í”„ë¡œì íŠ¸ ë¦¬ë“œ (Project Lead)

**ì‹¤í–‰ í™˜ê²½**: ê³µìš© ì»¨í…Œì´ë„ˆ1 (ë¹„ì‹¤ì‹œê°„, ìš”ì²­ ì‹œ í™œì„±í™”)

**ì™œ í•„ìš”í•œê°€**
- ê¸°ìˆ ì  ì˜ì‚¬ê²°ì •ì˜ ì¤‘ì•™í™”
- ì‘ì—… ë¶„í•  ë° ìš°ì„ ìˆœìœ„ ê²°ì •
- ì•„í‚¤í…ì²˜ ì¼ê´€ì„± ìœ ì§€

**ì–´ë–»ê²Œ êµ¬í˜„í•  ê²ƒì¸ê°€**

```typescript
// âš ï¸ ë¡œì§ ì´í•´ìš© ì˜ˆì‹œ ì½”ë“œ â€” ì‹¤ì œ ì—ì´ì „íŠ¸ëŠ” .agents/agents/*.md í”„ë¡¬í”„íŠ¸ë¡œ êµ¬í˜„
// project-lead-agent.ts
interface TechnicalPlan {
  architecture: ArchitectureDecision[];
  tasks: Task[];
  dependencies: DependencyGraph;
  estimatedTime: number;
  risks: Risk[];
}

class ProjectLeadAgent {
  async createTechnicalPlan(spec: Specification): Promise<TechnicalPlan> {
    // 1. ì•„í‚¤í…ì²˜ ê²°ì •
    const architecture = await this.decideArchitecture(spec);
    
    // 2. ì‘ì—… ë¶„í• 
    const tasks = await this.breakdownTasks(spec, architecture);
    
    // 3. ì˜ì¡´ì„± ê·¸ë˜í”„ ìƒì„±
    const dependencies = await this.buildDependencyGraph(tasks);
    
    // 4. ë¦¬ìŠ¤í¬ ë¶„ì„
    const risks = await this.analyzeRisks(tasks, dependencies);
    
    return { architecture, tasks, dependencies, risks, estimatedTime: 0 };
  }
  
  async assignTasks(plan: TechnicalPlan): Promise<void> {
    // ì‘ì—… íì— í• ë‹¹
    for (const task of plan.tasks) {
      if (this.canStartTask(task, plan.dependencies)) {
        await this.taskQueue.enqueue(task);
      }
    }
  }
  
  private canStartTask(task: Task, dependencies: DependencyGraph): boolean {
    // ì˜ì¡´ì„±ì´ ëª¨ë‘ ì™„ë£Œë˜ì—ˆëŠ”ì§€ í™•ì¸
    return dependencies.get(task.id)?.every(dep => dep.status === 'completed') ?? true;
  }
}
```

**ì…ë ¥**: ëª…ì„¸ì„œ ê´€ë¦¬ìì˜ ëª…ì„¸ì„œ  
**ì¶œë ¥**: ê¸°ìˆ  ê³„íš + ì‘ì—… í

**ìƒí˜¸ì‘ìš©**
- ëª…ì„¸ì„œ ê´€ë¦¬ì â†’ ëª…ì„¸ì„œ ìˆ˜ì‹ 
- ì‘ì—… í â†’ ì‘ì—… í• ë‹¹
- ì‹ ì… â† ì§ˆë¬¸ ë‹µë³€

---

### 4. ê¹ƒ ë§¤ë‹ˆì € (Git Manager)

**ì‹¤í–‰ í™˜ê²½**: í„°ë¯¸ë„ (ì‹¤ì‹œê°„ ì‹¤í–‰)

**ì™œ í•„ìš”í•œê°€**
- Git ì‘ì—…ì˜ ì¤‘ì•™ ê´€ë¦¬ë¡œ ì¶©ëŒ ë°©ì§€
- **ë³´ì•ˆ**: ì—ì´ì „íŠ¸ì˜ push ê¸ˆì§€ë¡œ ì˜ëª»ëœ ì»¤ë°‹/ì‹œí¬ë¦¿ ìœ ì¶œ ë°©ì§€
- ì•ˆì „í•œ ë¸Œëœì¹˜ ì „ëµ ê°•ì œ

**ì–´ë–»ê²Œ êµ¬í˜„í•  ê²ƒì¸ê°€**

```typescript
// âš ï¸ ë¡œì§ ì´í•´ìš© ì˜ˆì‹œ ì½”ë“œ â€” ì‹¤ì œ ì—ì´ì „íŠ¸ëŠ” .agents/agents/*.md í”„ë¡¬í”„íŠ¸ë¡œ êµ¬í˜„
// git-manager-agent.ts
interface GitPolicy {
  allowedOperations: {
    commit: boolean;
    branch: boolean;
    merge: boolean;  // ë¡œì»¬ë§Œ
    push: boolean;   // v3.0.0: ì ˆëŒ€ ê¸ˆì§€
    forcePush: boolean;  // v3.0.0: ì ˆëŒ€ ê¸ˆì§€
  };
  securityChecks: string[];
}

class GitManagerAgent {
  private policy: GitPolicy = {
    allowedOperations: {
      commit: true,
      branch: true,
      merge: true,   // ë¡œì»¬ squash mergeë§Œ
      push: false,   // âŒ ì—ì´ì „íŠ¸ push ê¸ˆì§€
      forcePush: false,  // âŒ force push ê¸ˆì§€
    },
    securityChecks: [
      'secret-scan',      // ì‹œí¬ë¦¿/í‚¤ ìœ ì¶œ ê²€ì‚¬
      'sensitive-data',   // ê°œì¸ì •ë³´/ì¸ì¦ í† í° ê²€ì‚¬
      'large-files',      // ëŒ€ìš©ëŸ‰ íŒŒì¼ ê²€ì‚¬
    ],
  };
  
  async commit(files: string[], message: string): Promise<void> {
    // 1. ë³´ì•ˆ ìŠ¤ìº”
    const scanResults = await this.runSecurityScans(files);
    if (scanResults.hasIssues) {
      throw new Error(`ë³´ì•ˆ ì´ìŠˆ ë°œê²¬: ${scanResults.issues.join(', ')}`);
    }
    
    // 2. ë¡œì»¬ ì»¤ë°‹
    await this.git.add(files);
    await this.git.commit(message);
    
    console.log(`âœ… ë¡œì»¬ ì»¤ë°‹ ì™„ë£Œ: ${message}`);
  }
  
  async preparePush(): Promise<void> {
    // 1. ë¡œì»¬ squash merge
    await this.git.merge('--squash', 'feature-branch');
    
    // 2. ë³´ì•ˆ ê²€í†  ë¦¬í¬íŠ¸ ìƒì„±
    const securityReport = await this.generateSecurityReport();
    
    // 3. ì‚¬ìš©ìì—ê²Œ ì•Œë¦¼ (í‘¸ì‹œ ì¤€ë¹„ ì™„ë£Œ)
    console.log(`
    âœ… í‘¸ì‹œ ì¤€ë¹„ ì™„ë£Œ
    
    ë‹¤ìŒ ë‹¨ê³„ (ìˆ˜ë™ ì‹¤í–‰ í•„ìš”):
    1. ë³´ì•ˆ ë¦¬í¬íŠ¸ í™•ì¸: ${securityReport.path}
    2. ë³€ê²½ì‚¬í•­ ìµœì¢… ê²€í† 
    3. ì‚¬ìš©ìê°€ ì§ì ‘ push ì‹¤í–‰:
       $ git push origin develop
    `);
  }
  
  async push(): Promise<never> {
    throw new Error('âŒ ì—ì´ì „íŠ¸ push ê¸ˆì§€. ì‚¬ìš©ìê°€ ì§ì ‘ ì‹¤í–‰í•˜ì„¸ìš”.');
  }
  
  private async runSecurityScans(files: string[]): Promise<ScanResult> {
    const issues: string[] = [];
    
    for (const file of files) {
      const content = await this.readFile(file);
      
      // ì‹œí¬ë¦¿ íŒ¨í„´ ê²€ì‚¬
      if (/AKIA[0-9A-Z]{16}/.test(content)) {
        issues.push(`${file}: AWS Access Key ë°œê²¬`);
      }
      if (/sk-[a-zA-Z0-9]{48}/.test(content)) {
        issues.push(`${file}: OpenAI API Key ë°œê²¬`);
      }
      if (/ghp_[a-zA-Z0-9]{36}/.test(content)) {
        issues.push(`${file}: GitHub Token ë°œê²¬`);
      }
    }
    
    return {
      hasIssues: issues.length > 0,
      issues,
    };
  }
}
```

**ì…ë ¥**: ë¦¬ë·°ì–´ì˜ ì»¤ë°‹ ìš”ì²­  
**ì¶œë ¥**: ë¡œì»¬ Git ì‘ì—… (ì»¤ë°‹, ë¸Œëœì¹˜, squash merge) + í‘¸ì‹œ ì¤€ë¹„ ì•Œë¦¼

**v3.0.0 ì •ì±…**:
- âœ… ë¡œì»¬ commit, branch, merge í—ˆìš©
- âŒ push ì ˆëŒ€ ê¸ˆì§€ (ëª¨ë“  ì—ì´ì „íŠ¸)
- âœ… í‘¸ì‹œ ì „ ë³´ì•ˆ ìŠ¤ìº” (ì‹œí¬ë¦¿/í‚¤ ìœ ì¶œ ê²€ì‚¬)
- âœ… ì‚¬ìš©ì ìµœì¢… ê²€í†  í›„ ìˆ˜ë™ push

---

### 5. ë¦¬ë·°ì–´ (Reviewer)

**ì‹¤í–‰ í™˜ê²½**: ê³µìš© ì»¨í…Œì´ë„ˆ1 (ë¹„ë™ê¸°)

**ì™œ í•„ìš”í•œê°€**
- ì½”ë“œ í’ˆì§ˆ ìë™ ê²€ì¦
- ì¼ê´€ëœ ë¦¬ë·° ê¸°ì¤€ ì ìš©
- ì‚¬ëŒì˜ ë¦¬ë·° ì „ 1ì°¨ í•„í„°ë§

**ì–´ë–»ê²Œ êµ¬í˜„í•  ê²ƒì¸ê°€**

```typescript
// âš ï¸ ë¡œì§ ì´í•´ìš© ì˜ˆì‹œ ì½”ë“œ â€” ì‹¤ì œ ì—ì´ì „íŠ¸ëŠ” .agents/agents/*.md í”„ë¡¬í”„íŠ¸ë¡œ êµ¬í˜„
// reviewer-agent.ts
interface ReviewChecklist {
  codeStyle: CheckItem[];
  architecture: CheckItem[];
  testing: CheckItem[];
  security: CheckItem[];
  performance: CheckItem[];
}

interface CheckItem {
  id: string;
  description: string;
  status: 'pass' | 'fail' | 'warning';
  details?: string;
}

class ReviewerAgent {
  async reviewCode(files: ChangedFile[]): Promise<ReviewChecklist> {
    const checklist: ReviewChecklist = {
      codeStyle: await this.checkCodeStyle(files),
      architecture: await this.checkArchitecture(files),
      testing: await this.checkTesting(files),
      security: await this.checkSecurity(files),
      performance: await this.checkPerformance(files),
    };
    
    return checklist;
  }
  
  private async checkArchitecture(files: ChangedFile[]): Promise<CheckItem[]> {
    const checks: CheckItem[] = [];
    
    // FSD ë ˆì´ì–´ ì˜ì¡´ì„± ê²€ì¦
    for (const file of files) {
      const layer = this.detectFSDLayer(file.path);
      const imports = this.extractImports(file.content);
      
      for (const imp of imports) {
        const importLayer = this.detectFSDLayer(imp);
        if (!this.isValidLayerDependency(layer, importLayer)) {
          checks.push({
            id: `arch-${file.path}`,
            description: `âŒ FSD ì—­ë°©í–¥ import: ${layer} â†’ ${importLayer}`,
            status: 'fail',
            details: `${file.path}:${imp}`,
          });
        }
      }
    }
    
    return checks;
  }
}
```

**ì…ë ¥**: ë°±ê·¸ë¼ìš´ë“œ íŒ€ì˜ ì½”ë“œ  
**ì¶œë ¥**: ë¦¬ë·° ì²´í¬ë¦¬ìŠ¤íŠ¸ + ê°œì„  ì œì•ˆ

**ìƒí˜¸ì‘ìš©**
- ë°±ê·¸ë¼ìš´ë“œ íŒ€ â†’ ì½”ë“œ ìˆ˜ì‹ 
- ê¹ƒ ë§¤ë‹ˆì € â†’ ì»¤ë°‹ ìš”ì²­

---

### 6. ì‹ ì… (Junior Developer)

**ì‹¤í–‰ í™˜ê²½**: ê³µìš© ì»¨í…Œì´ë„ˆ1 (ë¹„ë™ê¸°)

**ì™œ í•„ìš”í•œê°€**
- "ì™œ?"ë¥¼ ë¬»ëŠ” ë¬¸í™” ì •ì°©
- ì•”ë¬µì  ì§€ì‹ì˜ ëª…ì‹œí™”
- ë¬¸ì„œí™” ìë™í™”

**ì–´ë–»ê²Œ êµ¬í˜„í•  ê²ƒì¸ê°€**

```typescript
// âš ï¸ ë¡œì§ ì´í•´ìš© ì˜ˆì‹œ ì½”ë“œ â€” ì‹¤ì œ ì—ì´ì „íŠ¸ëŠ” .agents/agents/*.md í”„ë¡¬í”„íŠ¸ë¡œ êµ¬í˜„
// junior-agent.ts
interface Question {
  id: string;
  context: string;
  question: string;
  type: 'why' | 'how' | 'what' | 'alternative';
  priority: number;
}

class JuniorAgent {
  async reviewChanges(commits: Commit[]): Promise<Question[]> {
    const questions: Question[] = [];
    
    for (const commit of commits) {
      // ê¸°ìˆ  ì„ íƒì— ëŒ€í•œ ì§ˆë¬¸
      const techChoices = this.detectTechChoices(commit);
      for (const choice of techChoices) {
        questions.push({
          id: `tech-${commit.hash}-${choice.name}`,
          context: `${commit.message}\níŒŒì¼: ${choice.file}`,
          question: `ì™œ ${choice.name}ì„(ë¥¼) ì„ íƒí–ˆë‚˜ìš”? ëŒ€ì•ˆì€ ë¬´ì—‡ì´ì—ˆë‚˜ìš”?`,
          type: 'why',
          priority: 8,
        });
      }
      
      // ì•„í‚¤í…ì²˜ ê²°ì •ì— ëŒ€í•œ ì§ˆë¬¸
      const archDecisions = this.detectArchDecisions(commit);
      for (const decision of archDecisions) {
        questions.push({
          id: `arch-${commit.hash}-${decision.name}`,
          context: `${commit.message}\níŒŒì¼: ${decision.file}`,
          question: `ì´ êµ¬ì¡°ë¥¼ ì„ íƒí•œ ê·¼ê±°ëŠ” ë¬´ì—‡ì¸ê°€ìš”?`,
          type: 'why',
          priority: 9,
        });
      }
    }
    
    return questions.sort((a, b) => b.priority - a.priority);
  }
  
  async verifyAnswers(questions: Question[], answers: Answer[]): Promise<void> {
    // í”„ë¡œì íŠ¸ ë¦¬ë“œ ë˜ëŠ” ë¦¬ë·°ì–´ì—ê²Œ ë‹µë³€ ê²€ì¦ ìš”ì²­
    for (const answer of answers) {
      await this.requestVerification(answer);
    }
  }
}
```

**ì…ë ¥**: Git ë³€ê²½ ì´ë ¥  
**ì¶œë ¥**: ì§ˆë¬¸ ë¦¬ìŠ¤íŠ¸

**ìƒí˜¸ì‘ìš©**
- Git ì´ë ¥ â†’ ë³€ê²½ì‚¬í•­ ë¶„ì„
- í”„ë¡œì íŠ¸ ë¦¬ë“œ/ë¦¬ë·°ì–´ â†’ ë‹µë³€ ê²€ì¦ ìš”ì²­

---

### 7. ë°±ê·¸ë¼ìš´ë“œ ê°œë°œ íŒ€ (Background Dev Team)

**ì‹¤í–‰ í™˜ê²½**: ê²©ë¦¬ ì»¨í…Œì´ë„ˆ Nê°œ (ë³‘ë ¬ ì‹¤í–‰)

**ì™œ í•„ìš”í•œê°€**
- ë³‘ë ¬ ì²˜ë¦¬ë¡œ ê°œë°œ ì†ë„ í–¥ìƒ
- ê²©ë¦¬ í™˜ê²½ìœ¼ë¡œ ì•ˆì „ì„± í™•ë³´
- ë…ë¦½ì ì¸ í…ŒìŠ¤íŠ¸ ì‹¤í–‰

**ì–´ë–»ê²Œ êµ¬í˜„í•  ê²ƒì¸ê°€**

```typescript
// âš ï¸ ë¡œì§ ì´í•´ìš© ì˜ˆì‹œ ì½”ë“œ â€” ì‹¤ì œ ì—ì´ì „íŠ¸ëŠ” .agents/agents/*.md í”„ë¡¬í”„íŠ¸ë¡œ êµ¬í˜„
// background-dev-agent.ts
interface DevTask {
  id: string;
  type: 'feature' | 'test' | 'refactor' | 'fix';
  spec: TaskSpecification;
  containerId?: string;
}

class BackgroundDevAgent {
  private containerId: string;
  
  async executeTask(task: DevTask): Promise<TaskResult> {
    // 1. ì‘ì—… ì‹œì‘ ì•Œë¦¼
    await this.notifyStart(task);
    
    // 2. ì¤‘ê°„ ì§€ì‹œì‚¬í•­ í™•ì¸
    const instructions = await this.checkInstructions(task.id);
    if (instructions.length > 0) {
      await this.updateTaskPlan(task, instructions);
    }
    
    // 3. ê°œë°œ ì‹¤í–‰
    const code = await this.developFeature(task.spec);
    
    // 4. í…ŒìŠ¤íŠ¸ ì‘ì„±
    const tests = await this.writeTests(code);
    
    // 5. ë¡œì»¬ í…ŒìŠ¤íŠ¸ ì‹¤í–‰
    const testResult = await this.runTests(tests);
    
    // 6. ì§„í–‰ ìƒí™© ë³´ê³ 
    await this.reportProgress(task.id, testResult);
    
    return { code, tests, testResult };
  }
  
  private async checkInstructions(taskId: string): Promise<Instruction[]> {
    // íì—ì„œ ìƒˆë¡œìš´ ì§€ì‹œì‚¬í•­ í™•ì¸
    const instructions = await this.taskQueue.getInstructions(taskId);
    
    if (instructions.length > 0) {
      // ì½ì—ˆìŒì„ ì•Œë¦¼
      await this.taskQueue.markAsRead(taskId, instructions);
    }
    
    return instructions;
  }
  
  private async reportProgress(taskId: string, result: TestResult): Promise<void> {
    // ëª…ì„¸ì„œ ê´€ë¦¬ìì—ê²Œ ë³´ê³ 
    await this.specManager.updateProgress(taskId, {
      status: result.passed ? 'completed' : 'in-progress',
      details: result,
      timestamp: new Date(),
    });
  }
}
```

**ì…ë ¥**: ì‘ì—… íì˜ ì‘ì—…  
**ì¶œë ¥**: ê°œë°œëœ ì½”ë“œ + í…ŒìŠ¤íŠ¸ + ì‹¤í–‰ ê²°ê³¼

**ìƒí˜¸ì‘ìš©**
- ì‘ì—… í â†’ ì‘ì—… ìˆ˜ì‹ 
- ëª…ì„¸ì„œ ê´€ë¦¬ì â†’ ì§„í–‰ ìƒí™© ë³´ê³ 
- ë¦¬ë·°ì–´ â†’ ì½”ë“œ ì „ë‹¬

**ì œì•½ì‚¬í•­**
- ê²©ë¦¬ í™˜ê²½ ë‚´ì—ì„œë§Œ ì‹¤í–‰ (ì½ê¸° ì „ìš©)
- ë‚´ë¶€ì—ì„œ ë¡œì»¬ ì„œë²„ ê¸°ë™ ë° í…ŒìŠ¤íŠ¸ ê°€ëŠ¥
- ì™¸ë¶€ íŒŒì¼ ì‹œìŠ¤í…œ ìˆ˜ì • ë¶ˆê°€

### Worker ê²°ê³¼ë¬¼ ì œì¶œ íŒ¨í„´ (v3.0.0 - spec íŒŒì¼ ê¸°ë°˜)

Worker PodëŠ” ì½ê¸° ì „ìš©ì´ë¯€ë¡œ `/scratch`(emptyDir)ì— ì½”ë“œë¥¼ ì‘ì„±í•œ ë’¤,
diffë¥¼ ìƒì„±í•˜ê³  **spec.yamlì˜ submissions ì„¹ì…˜ì— ê²½ë¡œë¥¼ ê¸°ë¡**í•©ë‹ˆë‹¤.
Git Managerê°€ Watchman ê°ì§€ â†’ spec íŒŒì¼ ì½ê¸° â†’ diff ì ìš© ìˆœìœ¼ë¡œ ì²˜ë¦¬í•©ë‹ˆë‹¤.

```
Worker Pod                    spec.yaml (PVC)       Git Manager
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”               â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ /workspace â”‚ (ì½ê¸° ì „ìš©)   â”‚ submissions:â”‚       â”‚              â”‚
â”‚ /scratch   â”‚ â†’ diff ìƒì„± â†’ â”‚   - path:   â”‚ â†’ ê°ì§€â†’â”‚ git apply    â”‚
â”‚            â”‚               â”‚     /diffs/ â”‚       â”‚ git commit   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜               â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**v2.0.0 (Redis Stream) ëŒ€ë¹„ ë³€ê²½ì **:
- âŒ Redis Stream ì œê±°
- âœ… diff íŒŒì¼ì„ PVCì— ì €ì¥ (ì˜ˆ: `/workspace/diffs/TASK-001.diff`)
- âœ… spec.yamlì— ê²½ë¡œ ê¸°ë¡
- âœ… Watchmanì´ spec ë³€ê²½ ê°ì§€ â†’ NATS í•‘ â†’ Git Managerê°€ ì²˜ë¦¬

---

## ëª…ì„¸ì„œ ì‹œìŠ¤í…œ

### ì™œ í•„ìš”í•œê°€

- **ë‹¨ì¼ ì§„ì‹¤ ê³µê¸‰ì›**: ëª¨ë“  ì—ì´ì „íŠ¸ê°€ ë™ì¼í•œ ì •ë³´ ì°¸ì¡°
- **ì§„í–‰ ìƒí™© ê°€ì‹œì„±**: ì‹¤ì‹œê°„ìœ¼ë¡œ ì‘ì—… ìƒíƒœ ì¶”ì 
- **ë³€ê²½ ì´ë ¥ ê´€ë¦¬**: ëˆ„ê°€, ì–¸ì œ, ë¬´ì—‡ì„, ì™œ ë³€ê²½í–ˆëŠ”ì§€ ê¸°ë¡
- **ë¡¤ë°± ê°€ëŠ¥ì„±**: ë¬¸ì œ ë°œìƒ ì‹œ ì´ì „ ìƒíƒœë¡œ ë³µì›

### íŒŒì¼ êµ¬ì¡°

```
specs/
â”œâ”€â”€ current.yaml              # í˜„ì¬ ì§„í–‰ ì¤‘ì¸ ëª…ì„¸ì„œ
â”œâ”€â”€ archive/
â”‚   â”œâ”€â”€ 2025-02-17-feature-auth.yaml
â”‚   â””â”€â”€ 2025-02-16-refactor-routing.yaml
â””â”€â”€ templates/
    â”œâ”€â”€ feature.yaml
    â”œâ”€â”€ refactor.yaml
    â””â”€â”€ fix.yaml
```

### ëª…ì„¸ì„œ í¬ë§· (YAML)

```yaml
# specs/current.yaml
id: "spec-2025-02-17-001"
version: "1.2.0"
status: "in-progress"  # draft | approved | in-progress | completed | cancelled

metadata:
  title: "ì‚¬ìš©ì ì¸ì¦ ê¸°ëŠ¥ êµ¬í˜„"
  author: "consultant-agent"
  createdAt: "2025-02-17T10:00:00Z"
  updatedAt: "2025-02-17T14:30:00Z"
  approvedBy: "user@example.com"
  approvedAt: "2025-02-17T10:15:00Z"

requirements:
  - id: "REQ-001"
    description: "ì´ë©”ì¼/ë¹„ë°€ë²ˆí˜¸ ë¡œê·¸ì¸"
    priority: "high"
    status: "completed"  # ğŸŸ¢
    
  - id: "REQ-002"
    description: "ì†Œì…œ ë¡œê·¸ì¸ (Google, GitHub)"
    priority: "medium"
    status: "in-progress"  # ğŸŸ¡
    
  - id: "REQ-003"
    description: "2FA (Two-Factor Authentication)"
    priority: "low"
    status: "failed"  # ğŸ”´
    failureReason: "ì™¸ë¶€ API ì—°ë™ ì‹¤íŒ¨"

technicalPlan:
  architecture:
    - decision: "JWT ê¸°ë°˜ ì¸ì¦"
      reason: "Stateless, í™•ì¥ ê°€ëŠ¥"
      alternatives: ["Session ê¸°ë°˜", "OAuth2"]
      
  dependencies:
    - name: "jsonwebtoken"
      version: "^9.0.0"
      reason: "JWT ìƒì„±/ê²€ì¦"

tasks:
  - id: "TASK-001"
    title: "JWT ìœ í‹¸ë¦¬í‹° í•¨ìˆ˜ ì‘ì„±"
    type: "feature"
    status: "completed"  # ğŸŸ¢
    emoji: "ğŸŸ¢"
    assignedTo: "background-dev-1"
    estimatedTime: "2h"
    actualTime: "1.5h"
    dependencies: []
    files:
      - "src/shared/lib/jwt.ts"
      - "src/shared/lib/__tests__/jwt.test.ts"
    
  - id: "TASK-002"
    title: "ë¡œê·¸ì¸ API ì—”ë“œí¬ì¸íŠ¸"
    type: "feature"
    status: "in-progress"  # ğŸŸ¡
    emoji: "ğŸŸ¡"
    assignedTo: "background-dev-2"
    estimatedTime: "3h"
    actualTime: "2h"
    dependencies: ["TASK-001"]
    files:
      - "src/features/auth/api/login.ts"
      
  - id: "TASK-003"
    title: "2FA êµ¬í˜„"
    type: "feature"
    status: "failed"  # ğŸ”´
    emoji: "ğŸ”´"
    assignedTo: "background-dev-3"
    estimatedTime: "4h"
    actualTime: "3h"
    dependencies: ["TASK-001"]
    failureReason: "speakeasy ë¼ì´ë¸ŒëŸ¬ë¦¬ TOTP ìƒì„± ì‹¤íŒ¨"
    retryCount: 2

progress:
  total: 3
  completed: 1  # ğŸŸ¢
  inProgress: 1  # ğŸŸ¡
  failed: 1  # ğŸ”´
  percentage: 33

changeLog:
  - timestamp: "2025-02-17T14:30:00Z"
    author: "spec-manager"
    action: "update-task-status"
    details:
      taskId: "TASK-003"
      from: "in-progress"
      to: "failed"
      reason: "ì™¸ë¶€ ë¼ì´ë¸ŒëŸ¬ë¦¬ ì´ìŠˆ"
```

### JSON ëŒ€ì•ˆ (ë” ê°„ê²°í•œ í‘œí˜„)

```json
{
  "id": "spec-2025-02-17-001",
  "version": "1.2.0",
  "status": "in-progress",
  "metadata": {
    "title": "ì‚¬ìš©ì ì¸ì¦ ê¸°ëŠ¥ êµ¬í˜„",
    "author": "consultant-agent",
    "createdAt": "2025-02-17T10:00:00Z"
  },
  "tasks": [
    {
      "id": "TASK-001",
      "title": "JWT ìœ í‹¸ë¦¬í‹° í•¨ìˆ˜ ì‘ì„±",
      "status": "completed",
      "emoji": "ğŸŸ¢"
    }
  ],
  "progress": {
    "completed": 1,
    "inProgress": 1,
    "failed": 1,
    "percentage": 33
  }
}
```

### ìƒíƒœ ê´€ë¦¬ ê·œì¹™

| ì´ëª¨ì§€ | ìƒíƒœ | ì˜ë¯¸ | ë‹¤ìŒ ìƒíƒœ |
|-------|------|------|-----------|
| âšª | `pending` | ëŒ€ê¸° ì¤‘ | ğŸŸ¡ |
| ğŸŸ¡ | `in-progress` | ì§„í–‰ ì¤‘ | ğŸŸ¢, ğŸ”´ |
| ğŸŸ¢ | `completed` | ì™„ë£Œ | - |
| ğŸ”´ | `failed` | ì‹¤íŒ¨ | ğŸŸ¡ (ì¬ì‹œë„) |

### ë²„ì „ ê´€ë¦¬

```yaml
# ëª…ì„¸ì„œ ìˆ˜ì • ì‹œ ìë™ìœ¼ë¡œ ë²„ì „ ì¦ê°€
version: "1.2.3"
# MAJOR.MINOR.PATCH
# MAJOR: ìš”êµ¬ì‚¬í•­ ì¶”ê°€/ì‚­ì œ (í° ë³€ê²½)
# MINOR: ì‘ì—… ì¶”ê°€/ìˆ˜ì • (ì¤‘ê°„ ë³€ê²½)
# PATCH: ìƒíƒœ ì—…ë°ì´íŠ¸ (ì‘ì€ ë³€ê²½)
```

---

## ë¹„ë™ê¸° í†µì‹  ì•„í‚¤í…ì²˜

### ì™œ í•„ìš”í•œê°€

- **ì‘ë‹µ ëŒ€ê¸° ì‹œê°„ ì œê±°**: ì—ì´ì „íŠ¸ê°€ ë¸”ë¡œí‚¹ë˜ì§€ ì•ŠìŒ
- **ì‹¤ì‹œê°„ ì§€ì‹œ ë°˜ì˜**: ì‘ì—… ì¤‘ì—ë„ ìƒˆë¡œìš´ ì§€ì‹œì‚¬í•­ ìˆ˜ì‹ 
- **íš¨ìœ¨ì  ë¦¬ì†ŒìŠ¤ í™œìš©**: ëŒ€ê¸° ì¤‘ì¸ ì—ì´ì „íŠ¸ëŠ” íœ´ë©´ ìƒíƒœ

### ëª…ì„¸ì„œ ì¤‘ì‹¬ í†µì‹  ëª¨ë¸ (v3.0.0)

**í•µì‹¬ ì›ì¹™**: NATSëŠ” "ì•Œë¦¼ í•‘"ë§Œ, ìƒì„¸ ì •ë³´ëŠ” spec íŒŒì¼ì—

```mermaid
sequenceDiagram
    participant A as ì—ì´ì „íŠ¸
    participant PVC as PVC (spec.yaml)
    participant W as Watchman
    participant N as NATS
    participant B as ë‹¤ë¥¸ ì—ì´ì „íŠ¸

    A->>PVC: spec.yaml ìˆ˜ì • (ì‘ì—… ìƒíƒœ ì—…ë°ì´íŠ¸)
    PVC->>W: íŒŒì¼ ë³€ê²½ ê°ì§€
    W->>N: PUBLISH "spec.changed" í•‘<br/>{specId, path, timestamp}
    N->>B: í•‘ ì „ë‹¬
    B->>PVC: spec.yaml ì½ê¸° (ìµœì‹  ìƒíƒœ í™•ì¸)
    B->>B: ì‘ì—… ì²˜ë¦¬
    B->>PVC: spec.yaml ì—…ë°ì´íŠ¸ (ìƒˆë¡œìš´ ìƒíƒœ)
    Note over PVC,N: ìˆœí™˜ (Watchmanì´ ì¬ê°ì§€)
```

**v2.0.0 (Redis 24ì±„ë„) ëŒ€ë¹„ ë³€ê²½ì **:
- âŒ Redis Pub/Sub 24ì±„ë„ ì œê±°
- âŒ Redis Stream ì œê±°
- âœ… NATS í•‘ ê¸°ë°˜ ì•Œë¦¼ (ê·¹ë„ë¡œ ê°„ê²°í•œ ë©”ì‹œì§€)
- âœ… ëª¨ë“  ìƒì„¸ ì •ë³´ëŠ” spec.yaml íŒŒì¼ì— ì €ì¥
- âœ… Watchmanì´ íŒŒì¼ ë³€ê²½ ê°ì§€ â†’ NATS í•‘ ë°œí–‰
- âœ… ì—ì´ì „íŠ¸ëŠ” í•‘ ìˆ˜ì‹  í›„ PVCì—ì„œ spec íŒŒì¼ ì§ì ‘ ì½ê¸°

### NATS Core íŠ¹ì„± (v3.0.0)

- **ê²½ëŸ‰**: Go ë°”ì´ë„ˆë¦¬, ~50MB RAM (Redis 100~300MB ëŒ€ë¹„ 1/2~1/6)
- **CNCF í”„ë¡œì íŠ¸**: í´ë¼ìš°ë“œ ë„¤ì´í‹°ë¸Œ ë©”ì‹œì§• í‘œì¤€
- **JetStream ë¶ˆí•„ìš”**: spec íŒŒì¼ì´ persistent state ì—­í• 
- **ë‹¨ìˆœ Pub/Sub**: ì±„ë„ êµ¬ë…, ë©”ì‹œì§€ ë°œí–‰ë§Œ
- **KEDA í†µí•©**: NATS scalerë¡œ Worker ì˜¤í† ìŠ¤ì¼€ì¼ë§

**ìƒì„¸ ì„¤ê³„**: [async-communication.md](./async-communication.md)

---

## Kubernetes Pod ê²©ë¦¬ ì „ëµ

### ì™œ í•„ìš”í•œê°€

- **ì•ˆì „ì„±**: ê²©ë¦¬ëœ í™˜ê²½ì—ì„œ ì½”ë“œ ì‹¤í–‰ â†’ ë©”ì¸ ì‹œìŠ¤í…œ ì˜í–¥ ì—†ìŒ
- **ì¬í˜„ì„±**: ë™ì¼í•œ í™˜ê²½ì—ì„œ í•­ìƒ ë™ì¼í•œ ê²°ê³¼
- **ë³‘ë ¬ì„±**: ì—¬ëŸ¬ Pod ë™ì‹œ ì‹¤í–‰ìœ¼ë¡œ ì†ë„ í–¥ìƒ

### Kubernetes ê¸°ë°˜ ì•„í‚¤í…ì²˜

```dockerfile
# âš ï¸ ë¡œì§ ì´í•´ìš© ì˜ˆì‹œ â€” ì‹¤ì œ Dockerfileì€ êµ¬í˜„ Phaseì—ì„œ í™•ì •
# Dockerfile.dev-agent
FROM node:20-alpine

# í•„ìˆ˜ ë„êµ¬ ì„¤ì¹˜
RUN apk add --no-cache git

# ì‘ì—… ë””ë ‰í† ë¦¬
WORKDIR /workspace

# í”„ë¡œì íŠ¸ íŒŒì¼ ë³µì‚¬ (ì½ê¸° ì „ìš©)
COPY --chown=node:node . .

# ì˜ì¡´ì„± ì„¤ì¹˜
RUN pnpm install --frozen-lockfile

# ë¹„íŠ¹ê¶Œ ì‚¬ìš©ìë¡œ ì „í™˜
USER node

# ì—ì´ì „íŠ¸ ì‹¤í–‰
CMD ["node", "agents/background-dev.js"]
```

### Pod ê¶Œí•œ ë¶„ë¦¬ (v3.0.0)

| Pod | ì½ê¸° | ì“°ê¸° | Git | ë„¤íŠ¸ì›Œí¬ | ë³¼ë¥¨ |
|-----|------|------|-----|----------|------|
| gateway Pod | âœ… | âœ… | commit/branch/merge (ë¡œì»¬ë§Œ) | âœ… (ì™¸ë¶€) | PVC RWX |
| coordinator Pod | âœ… | âœ… (specs/, docs/) | âŒ | âœ… (ë‚´ë¶€) | PVC RWX |
| Worker Pod Ã—3 | âœ… | âŒ | âŒ | âœ… (ì œí•œ) | PVC RO + emptyDir |
| nats Pod | - | - | âŒ | âœ… (ë‚´ë¶€) | - |
| postgresql Pod | - | - | âŒ | âœ… (ë‚´ë¶€) | PVC RWO |

**Git ë³´ì•ˆ ì •ì±… (v3.0.0)**:
- âŒ **ëª¨ë“  ì—ì´ì „íŠ¸ push ê¸ˆì§€** (gateway Pod í¬í•¨)
- âœ… commit, branch, merge (ë¡œì»¬ë§Œ) í—ˆìš©
- âœ… **í‘¸ì‹œ ì „ í•„ìˆ˜ í”„ë¡œì„¸ìŠ¤**: squash merge â†’ ë¡œì»¬ ë³´ì•ˆ ê²€í†  (ì‹œí¬ë¦¿/í‚¤ ìœ ì¶œ ìŠ¤ìº”) â†’ ì‚¬ëŒ ê²€í† /ìŠ¹ì¸ â†’ **ì‚¬ëŒì´ ì§ì ‘ push**
- âŒ force push ê¸ˆì§€

**ì„¤ê³„ ê·¼ê±°**: ì—ì´ì „íŠ¸ì˜ ì‹¤ìˆ˜ë¡œ ì¸í•œ ì˜ëª»ëœ ì»¤ë°‹/ì‹œí¬ë¦¿ ìœ ì¶œì´ ì›ê²© ì €ì¥ì†Œì— í‘¸ì‹œë˜ëŠ” ê²ƒì„ ì›ì²œ ì°¨ë‹¨

### Kubernetes Worker Deployment (v3.0.0 - NATS scaler)

```yaml
# âš ï¸ ë¡œì§ ì´í•´ìš© ì˜ˆì‹œ â€” ì‹¤ì œ ë§¤ë‹ˆí˜ìŠ¤íŠ¸ëŠ” êµ¬í˜„ Phaseì—ì„œ í™•ì •
# k8s/worker-deployment.yaml
apiVersion: apps/v1
kind: Deployment
metadata:
  name: worker-dev
  labels:
    app: agent-worker
spec:
  replicas: 0  # KEDAê°€ ê´€ë¦¬
  selector:
    matchLabels:
      app: agent-worker
  template:
    metadata:
      labels:
        app: agent-worker
    spec:
      containers:
        - name: background-dev
          image: blog-agent-worker:latest
          env:
            - name: AGENT_TYPE
              value: "background-dev"
            - name: NATS_URL
              valueFrom:
                secretKeyRef:
                  name: nats-secret
                  key: url
            - name: DATABASE_URL
              valueFrom:
                secretKeyRef:
                  name: pg-secret
                  key: url
          volumeMounts:
            - name: shared-workspace
              mountPath: /workspace
              readOnly: true     # ì½ê¸° ì „ìš©
            - name: scratch
              mountPath: /scratch  # ì„ì‹œ ì‘ì—… ê³µê°„
          resources:
            requests:
              cpu: "500m"
              memory: "768Mi"
            limits:
              cpu: "2000m"
              memory: "2Gi"
      volumes:
        - name: shared-workspace
          persistentVolumeClaim:
            claimName: workspace-pvc  # RWX PVC
        - name: scratch
          emptyDir: {}
```

**v2.0.0 ëŒ€ë¹„ ë³€ê²½ì **:
- `REDIS_URL` â†’ `NATS_URL`
- RAM requests: 512Mi â†’ 768Mi (ëª…ì„¸ì„œ íŒŒì¼ íŒŒì‹± ì˜¤ë²„í—¤ë“œ)
- KEDA scaler: Redis list â†’ NATS í (ì•„ë˜ ì°¸ì¡°)

---

## ìë™ ìŠ¹ì¸ ì •ì±…

### ì™œ í•„ìš”í•œê°€

- **ì›Œí¬í”Œë¡œìš° íš¨ìœ¨í™”**: ì•ˆì „í•œ ì‘ì—…ì€ ìë™ ìŠ¹ì¸
- **ì‚¬ìš©ì í”¼ë¡œë„ ê°ì†Œ**: ë¶ˆí•„ìš”í•œ ìŠ¹ì¸ ìš”ì²­ ì œê±°
- **ì¼ê´€ì„± ìœ ì§€**: ì •ì±… ê¸°ë°˜ ìë™ ê²°ì •

### ìŠ¹ì¸ ì •ì±… í…Œì´ë¸”

| ì‘ì—… | ìë™ ìŠ¹ì¸ | ìˆ˜ë™ ìŠ¹ì¸ | ì´ìœ  |
|------|-----------|-----------|------|
| `develop` í‘¸ì‹œ | âœ… | - | ì´ë¯¸ featureì—ì„œ ê²€ì¦ë¨ |
| `develop` â†’ `main` PR | âœ… | - | CI/CD í†µê³¼ í›„ ìë™ |
| ê³„íšì„œ ìŠ¹ì¸ í›„ ì»¤ë°‹ | âœ… | - | ì‚¬ìš©ìê°€ ê³„íšì„œ ìŠ¹ì¸í•¨ |
| Feature PR ìƒì„± | âœ… | - | ê³„íšì„œ ìŠ¹ì¸ ì‹œì ì— ì´ë¯¸ ìŠ¹ì¸ë¨ |
| `main` ì§ì ‘ í‘¸ì‹œ | - | âœ… | ë³´í˜¸ëœ ë¸Œëœì¹˜ |
| ìˆ˜ë™ ì¶©ëŒ í•´ê²° | - | âœ… | ì‚¬ëŒ íŒë‹¨ í•„ìš” |
| í™˜ê²½ë³€ìˆ˜ ë³€ê²½ | - | âœ… | ë³´ì•ˆ ìœ„í—˜ |

### êµ¬í˜„

```typescript
// âš ï¸ ë¡œì§ ì´í•´ìš© ì˜ˆì‹œ ì½”ë“œ â€” ì‹¤ì œ ì—ì´ì „íŠ¸ëŠ” .agents/agents/*.md í”„ë¡¬í”„íŠ¸ë¡œ êµ¬í˜„
// approval-policy.ts
interface ApprovalPolicy {
  autoApprove(action: GitAction): boolean;
  requiresApproval(action: GitAction): boolean;
}

class GitApprovalPolicy implements ApprovalPolicy {
  autoApprove(action: GitAction): boolean {
    switch (action.type) {
      case 'push':
        return action.branch === 'develop';
      
      case 'create-pr':
        if (action.from === 'develop' && action.to === 'main') {
          return true;
        }
        if (action.from.startsWith('feature/') && action.to === 'develop') {
          // ê³„íšì„œ ìŠ¹ì¸ ì—¬ë¶€ í™•ì¸
          return this.isPlanApproved(action.from);
        }
        return false;
      
      case 'commit':
        // ê³„íšì„œ ìŠ¹ì¸ í›„ ì»¤ë°‹ì€ ìë™
        return this.isPlanApproved(action.branch);
      
      default:
        return false;
    }
  }
  
  requiresApproval(action: GitAction): boolean {
    return !this.autoApprove(action);
  }
  
  private isPlanApproved(branch: string): boolean {
    // specs/current.yaml í™•ì¸
    const spec = this.loadSpecification();
    return spec.metadata.approvedBy !== null;
  }
}
```

---

## ì‹¤ì‹œê°„ ê°ì§€ ë©”ì»¤ë‹ˆì¦˜

### ì™œ í•„ìš”í•œê°€

- **ì¦‰ê° ë°˜ì‘**: ë³€ê²½ì‚¬í•­ ë°œìƒ ì¦‰ì‹œ ì²˜ë¦¬
- **ì¼ê´€ì„± ìœ ì§€**: ëª…ì„¸ì„œì™€ ì½”ë“œì˜ ë™ê¸°í™”
- **ìë™ ì¬í• ë‹¹**: ì˜í–¥ë°›ëŠ” ì‘ì—… ìë™ ì‹ë³„

### íŒŒì¼ ê°ì§€ (Meta Watchman)

```typescript
// âš ï¸ ë¡œì§ ì´í•´ìš© ì˜ˆì‹œ ì½”ë“œ â€” ì‹¤ì œ ì—ì´ì „íŠ¸ëŠ” .agents/agents/*.md í”„ë¡¬í”„íŠ¸ë¡œ êµ¬í˜„
// file-watcher.ts
import { Client as WatchmanClient } from 'fb-watchman';

class SpecificationWatcher {
  private client: WatchmanClient;

  constructor() {
    this.client = new WatchmanClient();
  }

  watch(specPath: string, callback: (event: FileChangeEvent) => void): void {
    this.client.capabilityCheck(
      { optional: [], required: ['relative_root'] },
      (error) => {
        if (error) throw error;

        this.client.command(
          ['watch-project', specPath],
          (error, resp) => {
            if (error) throw error;

            const { watch, relative_path } = resp;
            const sub = {
              expression: ['anyof', ['match', '*.yaml'], ['match', '*.yml']],
              fields: ['name', 'size', 'mtime_ms', 'exists', 'type'],
              relative_root: relative_path,
            };

            this.client.command(
              ['subscribe', watch, 'spec-changes', sub],
              (error) => {
                if (error) throw error;
              },
            );

            this.client.on('subscription', (resp) => {
              if (resp.subscription !== 'spec-changes') return;
              for (const file of resp.files) {
                callback({
                  type: file.exists ? 'change' : 'delete',
                  path: file.name,
                });
              }
            });
          },
        );
      },
    );
  }

  stop(): void {
    this.client.end();
  }
}

// ì‚¬ìš© ì˜ˆì‹œ
const watcher = new SpecificationWatcher();
watcher.watch('specs/current.yaml', async (event) => {
  console.log(`ëª…ì„¸ì„œ ë³€ê²½ ê°ì§€: ${event.type} - ${event.path}`);
  
  // ëª…ì„¸ì„œ ì¬ë¡œë“œ
  const spec = await loadSpecification(event.path);
  
  // ì˜í–¥ë°›ëŠ” ì‘ì—… ì‹ë³„
  const affectedTasks = await analyzeImpact(spec);
  
  // ì‘ì—… ì¬í• ë‹¹
  await reassignTasks(affectedTasks);
});
```

### PVC + Watchman ì£¼ì˜ì‚¬í•­

> âš ï¸ **K8sì—ì„œ Watchman ì‚¬ìš© ì‹œ ì£¼ì˜ì‚¬í•­**
>
> - ConfigMap/Secret ë³¼ë¥¨ì€ `inotify IN_MODIFY` ì´ë²¤íŠ¸ë¥¼ ë°œìƒì‹œí‚¤ì§€ ì•ŠìŒ (ì‹¬ë³¼ë¦­ ë§í¬ êµì²´ ë°©ì‹)
> - **PVC (EFS/NFS/Longhorn RWX)ëŠ” ì •ìƒ ì‘ë™** â€” inotify ì´ë²¤íŠ¸ ë°œìƒ
> - ëª¨ë“  ì—ì´ì „íŠ¸ì˜ ê³µìœ  íŒŒì¼ ì‹œìŠ¤í…œì€ PVC RWXë¡œ ë§ˆìš´íŠ¸í•´ì•¼ í•¨
> - Watchman ì‚¬ìš© ì‹œ í”„ë¡œì íŠ¸ ë£¨íŠ¸ì— `.watchmanconfig` íŒŒì¼ í•„ìš”

### ì§„í–‰ ìƒí™© ê°ì§€

```typescript
// âš ï¸ ë¡œì§ ì´í•´ìš© ì˜ˆì‹œ ì½”ë“œ â€” ì‹¤ì œ ì—ì´ì „íŠ¸ëŠ” .agents/agents/*.md í”„ë¡¬í”„íŠ¸ë¡œ êµ¬í˜„
// progress-monitor.ts
class ProgressMonitor {
  private intervals: Map<string, NodeJS.Timeout> = new Map();
  
  startMonitoring(taskId: string, interval: number = 30000): void {
    const timer = setInterval(async () => {
      const status = await this.checkTaskStatus(taskId);
      
      if (status.changed) {
        await this.handleStatusChange(taskId, status);
      }
      
      if (status.completed || status.failed) {
        this.stopMonitoring(taskId);
      }
    }, interval);
    
    this.intervals.set(taskId, timer);
  }
  
  private async handleStatusChange(taskId: string, status: TaskStatus): Promise<void> {
    // ëª…ì„¸ì„œ ê´€ë¦¬ìì—ê²Œ ì•Œë¦¼
    await this.specManager.updateProgress(taskId, status);
    
    // ì˜ì¡´ ì‘ì—… í™œì„±í™” í™•ì¸
    const dependentTasks = await this.getDependentTasks(taskId);
    for (const depTask of dependentTasks) {
      if (this.canStartTask(depTask)) {
        await this.taskQueue.enqueue(depTask);
      }
    }
  }
  
  stopMonitoring(taskId: string): void {
    const timer = this.intervals.get(taskId);
    if (timer) {
      clearInterval(timer);
      this.intervals.delete(taskId);
    }
  }
}
```

---

## ì˜¤í† ìŠ¤ì¼€ì¼ë§ (v3.0.0 - NATS ê¸°ë°˜)

### ì™œ í•„ìš”í•œê°€

- **ë¹„ìš© íš¨ìœ¨**: í•„ìš”í•  ë•Œë§Œ ë¦¬ì†ŒìŠ¤ ì‚¬ìš© (ìœ íœ´ ì‹œ 0ê°œë¡œ ì¶•ì†Œ)
- **ì†ë„ í–¥ìƒ**: ì‘ì—… ì¦ê°€ ì‹œ ìë™ìœ¼ë¡œ ìš©ëŸ‰ ì¦ê°€
- **ìœ ì—°ì„±**: ë‹¤ì–‘í•œ ì‘ì—… ë¶€í•˜ì— ëŒ€ì‘

### KEDA NATS Scaler

```yaml
# âš ï¸ ë¡œì§ ì´í•´ìš© ì˜ˆì‹œ â€” ì‹¤ì œ ë§¤ë‹ˆí˜ìŠ¤íŠ¸ëŠ” êµ¬í˜„ Phaseì—ì„œ í™•ì •
# k8s/keda-scaledobject.yaml
apiVersion: keda.sh/v1alpha1
kind: ScaledObject
metadata:
  name: worker-scaler
spec:
  scaleTargetRef:
    name: worker-dev
  minReplicaCount: 0    # ìœ íœ´ ì‹œ 0ê°œ (ë¹„ìš© ìµœì í™”)
  maxReplicaCount: 3    # v3.0.0: ìµœëŒ€ 3ê°œ (6ê°œâ†’3ê°œ ì¶•ì†Œ)
  cooldownPeriod: 60    # ìŠ¤ì¼€ì¼ ë‹¤ìš´ ëŒ€ê¸° (ì´ˆ)
  triggers:
    - type: nats-jetstream
      metadata:
        natsServerMonitoringEndpoint: "nats.default.svc.cluster.local:8222"
        queue: "worker.tasks"
        queueLength: "2"  # ì‘ì—… 2ê°œë‹¹ Pod 1ê°œ
```

**v2.0.0 (Redis) ëŒ€ë¹„ ë³€ê²½ì **:
- `type: redis` â†’ `type: nats-jetstream`
- `maxReplicaCount: 6` â†’ `3` (ëª…ì„¸ì„œ ì¤‘ì‹¬ í†µì‹ ìœ¼ë¡œ íš¨ìœ¨ ì¦ê°€)
- `listName: tasks:pending` â†’ `queue: worker.tasks`

### ìŠ¤ì¼€ì¼ë§ ì‹œë‚˜ë¦¬ì˜¤

**ì‹œë‚˜ë¦¬ì˜¤ 1: ê¸°ëŠ¥ ê°œë°œ 3ê°œ + í…ŒìŠ¤íŠ¸ 3ê°œ (v3.0.0)**
```
ì´ˆê¸°: 0ê°œ Pod (KEDA idle)
ì‘ì—… ì¶”ê°€: 6ê°œ ì‘ì—… íì— ìŒ“ì„
ìŠ¤ì¼€ì¼ ì—…: 3ê°œ Pod (6 / 2 = 3, KEDA ìë™) â€” v2.0.0ì€ 6ê°œì˜€ìŒ
ë³‘ë ¬ ì²˜ë¦¬: ê° Podê°€ 2ê°œì”© ì²˜ë¦¬
ì™„ë£Œ í›„: 0ê°œ Podë¡œ ì¶•ì†Œ (cooldown 60ì´ˆ í›„)
```

**ì‹œë‚˜ë¦¬ì˜¤ 2: ìœ íœ´ ìƒíƒœ**
```
ì´ˆê¸°: 0ê°œ Pod
ë¦¬ì†ŒìŠ¤ ì‚¬ìš©: 0 (ë¹„ìš© ìµœì í™”)
```

---

## ì‹œí–‰ì°©ì˜¤ ê´€ë¦¬

### ì™œ í•„ìš”í•œê°€

- **í•™ìŠµ íš¨ê³¼**: ê°™ì€ ì‹¤ìˆ˜ ë°˜ë³µ ë°©ì§€
- **ì§€ì‹ ì¶•ì **: í”„ë¡œì íŠ¸ íŠ¹í™” ì§€ì‹ êµ¬ì¶•
- **ë””ë²„ê¹… íš¨ìœ¨**: ê³¼ê±° ì‹¤íŒ¨ ì›ì¸ ë¹ ë¥¸ ì°¸ì¡°

### í•˜ì´ë¸Œë¦¬ë“œ ì‹œí–‰ì°©ì˜¤ ê´€ë¦¬

**PostgreSQL + pgvector** (ë©”ì¸ ì €ì¥ì†Œ)
- ì‹œí–‰ì°©ì˜¤ ë°ì´í„° CRUD
- ì„ë² ë”© ê¸°ë°˜ ìœ ì‚¬ë„ ê²€ìƒ‰ (`<=>` ì½”ì‚¬ì¸ ìœ ì‚¬ë„)
- HNSW ì¸ë±ìŠ¤ë¡œ ë¹ ë¥¸ ê²€ìƒ‰
- ë™ì‹œ ì ‘ì† ì•ˆì „

**ë§ˆí¬ë‹¤ìš´ Git ì¶”ì ** (ë³´ì¡° ì €ì¥ì†Œ)
- ì¤‘ìš” ì‹œí–‰ì°©ì˜¤ì˜ ì‚¬ëŒ ì½ê¸°ìš© ë¬¸ì„œ
- Git ì´ë ¥ìœ¼ë¡œ ë³€ê²½ ì¶”ì 
- ì½”ë“œ ë¦¬ë·° ì‹œ ì°¸ì¡° ê°€ëŠ¥
- `docs/trial-errors/` ë””ë ‰í† ë¦¬ì— ì €ì¥

### PostgreSQL ìŠ¤í‚¤ë§ˆ

```sql
-- âš ï¸ ë¡œì§ ì´í•´ìš© ì˜ˆì‹œ â€” ì‹¤ì œ ìŠ¤í‚¤ë§ˆëŠ” êµ¬í˜„ Phaseì—ì„œ í™•ì •

-- pgvector í™•ì¥
CREATE EXTENSION IF NOT EXISTS vector;

-- ì‹œí–‰ì°©ì˜¤ í…Œì´ë¸”
CREATE TABLE trial_errors (
  id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
  agent_type VARCHAR(50) NOT NULL,
  task_id VARCHAR(100) NOT NULL,
  task_type VARCHAR(30) NOT NULL,
  files TEXT[] NOT NULL,
  error_type VARCHAR(100) NOT NULL,
  error_message TEXT NOT NULL,
  stack_trace TEXT,
  solution_description TEXT,
  solution_code TEXT,
  solution_references TEXT[],
  embedding VECTOR(1536),  -- OpenAI text-embedding-3-small
  created_at TIMESTAMPTZ NOT NULL DEFAULT NOW(),
  resolved_at TIMESTAMPTZ
);

-- HNSW ì¸ë±ìŠ¤ (ìœ ì‚¬ë„ ê²€ìƒ‰ ìµœì í™”)
CREATE INDEX idx_trial_errors_embedding ON trial_errors
  USING hnsw (embedding vector_cosine_ops)
  WITH (m = 16, ef_construction = 64);

-- ì—ì´ì „íŠ¸ë³„ ì¡°íšŒ ì¸ë±ìŠ¤
CREATE INDEX idx_trial_errors_agent ON trial_errors (agent_type);
CREATE INDEX idx_trial_errors_type ON trial_errors (error_type);
```

### ìœ ì‚¬ë„ ê²€ìƒ‰ ì¿¼ë¦¬

```sql
-- ìœ ì‚¬í•œ ì—ëŸ¬ ê²€ìƒ‰ (ì½”ì‚¬ì¸ ìœ ì‚¬ë„)
SELECT id, error_type, error_message, solution_description,
       1 - (embedding <=> $1::vector) AS similarity
FROM trial_errors
WHERE resolved_at IS NOT NULL
ORDER BY embedding <=> $1::vector
LIMIT 5;
```

### ì‹œí–‰ì°©ì˜¤ ê´€ë¦¬ ì½”ë“œ

```typescript
// âš ï¸ ë¡œì§ ì´í•´ìš© ì˜ˆì‹œ ì½”ë“œ â€” ì‹¤ì œ ì—ì´ì „íŠ¸ëŠ” .agents/agents/*.md í”„ë¡¬í”„íŠ¸ë¡œ êµ¬í˜„
// trial-error-db.ts
import { Pool } from 'pg';

interface TrialError {
  id: string;
  agentType: string;
  context: {
    taskId: string;
    taskType: string;
    files: string[];
  };
  error: {
    type: string;
    message: string;
    stackTrace?: string;
  };
  solution?: {
    description: string;
    code?: string;
    references: string[];
  };
  timestamp: Date;
  resolvedAt?: Date;
}

class TrialErrorManager {
  private pool: Pool;
  
  constructor() {
    this.pool = new Pool({
      connectionString: process.env.DATABASE_URL,
    });
  }
  
  async recordError(error: TrialError): Promise<TrialError[]> {
    // 1. ì—ëŸ¬ ì„ë² ë”© ìƒì„±
    const embedding = await this.generateEmbedding(error);
    
    // 2. PostgreSQLì— ì €ì¥
    await this.pool.query(
      `INSERT INTO trial_errors (agent_type, task_id, task_type, files, error_type, error_message, stack_trace, embedding)
       VALUES ($1, $2, $3, $4, $5, $6, $7, $8)`,
      [error.agentType, error.context.taskId, error.context.taskType,
       error.context.files, error.error.type, error.error.message,
       error.error.stackTrace, embedding]
    );
    
    // 3. ìœ ì‚¬í•œ ì—ëŸ¬ ê²€ìƒ‰ (pgvector ì½”ì‚¬ì¸ ìœ ì‚¬ë„)
    const similar = await this.findSimilarErrors(embedding);
    if (similar.length > 0) {
      console.log(`âš ï¸  ìœ ì‚¬í•œ ì—ëŸ¬ ${similar.length}ê±´ ë°œê²¬`);
    }
    return similar;
  }
  
  async recordSolution(errorId: string, solution: Solution): Promise<void> {
    await this.pool.query(
      `UPDATE trial_errors
       SET solution_description = $1, solution_code = $2, solution_references = $3, resolved_at = NOW()
       WHERE id = $4`,
      [solution.description, solution.code, solution.references, errorId]
    );
  }
  
  private async findSimilarErrors(embedding: number[]): Promise<TrialError[]> {
    const result = await this.pool.query(
      `SELECT *, 1 - (embedding <=> $1::vector) AS similarity
       FROM trial_errors
       WHERE resolved_at IS NOT NULL
       ORDER BY embedding <=> $1::vector
       LIMIT 5`,
      [JSON.stringify(embedding)]
    );
    return result.rows.filter(r => r.similarity > 0.8);
  }
  
  async getSolutions(errorType: string): Promise<Solution[]> {
    const result = await this.pool.query(
      `SELECT solution_description, solution_code, solution_references
       FROM trial_errors
       WHERE error_type = $1 AND resolved_at IS NOT NULL`,
      [errorType]
    );
    return result.rows;
  }
}
```

### ë§ˆí¬ë‹¤ìš´ Git ì¶”ì  êµ¬ì¡°

```
docs/trial-errors/
â”œâ”€â”€ 2025-02-17-speakeasy-verify-signature.md
â”œâ”€â”€ 2025-02-18-fsd-layer-violation.md
â””â”€â”€ README.md
```

### ì‹œí–‰ì°©ì˜¤ ì˜ˆì‹œ (ë§ˆí¬ë‹¤ìš´)

```markdown
# speakeasy.totp.verify() ì‹œê·¸ë‹ˆì²˜ ë³€ê²½

**ë‚ ì§œ**: 2025-02-17  
**ì—ì´ì „íŠ¸**: background-dev-2  
**ì‘ì—…**: TASK-003 (2FA êµ¬í˜„)

## ì—ëŸ¬

\`\`\`
speakeasy.totp.verify() returns undefined
\`\`\`

## ì›ì¸

speakeasy v2.0.0ì—ì„œ verify() ì‹œê·¸ë‹ˆì²˜ê°€ ë³€ê²½ë¨

## í•´ê²°

\`\`\`typescript
// ê¸°ì¡´ (v1.x)
const verified = speakeasy.totp.verify(secret, token);

// ì‹ ê·œ (v2.x)
const verified = speakeasy.totp.verify({ secret, encoding: 'base32', token });
\`\`\`

## ì°¸ê³ 

- https://github.com/speakeasyjs/speakeasy/releases/tag/v2.0.0
```

---

## Phaseë³„ êµ¬í˜„ ê³„íš

### Phase 1: í˜„ì¬ ì‹œìŠ¤í…œ ê°œì„  (1-2ì£¼)

**ëª©í‘œ**: Git ì›Œí¬í”Œë¡œìš° ìë™í™” + ê¸°ì¡´ ì—ì´ì „íŠ¸ í†µí•©

**êµ¬í˜„ ì‚¬í•­**
- [x] ì—ì´ì „íŠ¸ ì‹œìŠ¤í…œ êµ¬ì¶• (ì´ë¯¸ ì™„ë£Œ)
- [ ] git-manager ì—ì´ì „íŠ¸ í†µí•©
  - [ ] git-guardian + github-helper í†µí•©
  - [ ] ìë™ ìŠ¹ì¸ ì •ì±… êµ¬í˜„
  - [ ] ì»¤ë°‹ ë©”ì‹œì§€ ìë™ ìƒì„±
- [ ] ì›Œí¬í”Œë¡œìš° ê°œì„ 
  - [ ] ì‘ì—… ì²´í¬ë¦¬ìŠ¤íŠ¸ ìë™í™”
  - [ ] Phase ë‹¨ìœ„ ì‘ì—… ê´€ë¦¬
  - [ ] ì—ì´ì „íŠ¸ ê°„ í†µì‹  í‘œì¤€í™”

**ì„±ê³¼ ì§€í‘œ**
- ì‚¬ìš©ì ìŠ¹ì¸ ìš”ì²­ 50% ê°ì†Œ
- Git ì‘ì—… ìë™í™” 80% ë‹¬ì„±

---

### Phase 2: ëª…ì„¸ì„œ ì‹œìŠ¤í…œ ë„ì… (2-3ì£¼)

**ëª©í‘œ**: ì§„í–‰ ìƒí™© ê°€ì‹œì„± í™•ë³´ + ìƒíƒœ ê´€ë¦¬

**êµ¬í˜„ ì‚¬í•­**
- [ ] ëª…ì„¸ì„œ í¬ë§· í™•ì • (YAML)
  - [ ] ìŠ¤í‚¤ë§ˆ ì •ì˜ (Zod)
  - [ ] í…œí”Œë¦¿ ì‘ì„± (feature/refactor/fix)
  - [ ] ë²„ì „ ê´€ë¦¬ ê·œì¹™
- [ ] ëª…ì„¸ì„œ ê´€ë¦¬ì ì—ì´ì „íŠ¸
  - [ ] íŒŒì¼ ê°ì§€ (Watchman)
  - [ ] ìƒíƒœ ì¶”ì  (ğŸŸ¢ğŸŸ¡ğŸ”´)
  - [ ] ë³€ê²½ ì´ë ¥ ê´€ë¦¬
- [ ] ì»¨ì„¤í„´íŠ¸ ì—ì´ì „íŠ¸ ê°•í™”
  - [ ] ìš”êµ¬ì‚¬í•­ â†’ ëª…ì„¸ì„œ ë³€í™˜
  - [ ] ìŠ¹ì¸ í”„ë¡œì„¸ìŠ¤ ìë™í™”
- [ ] ê¸°ì¡´ ì—ì´ì „íŠ¸ ì—°ë™
  - [ ] ëª¨ë“  ì—ì´ì „íŠ¸ê°€ ëª…ì„¸ì„œ ì°¸ì¡°
  - [ ] ì§„í–‰ ìƒí™© ìë™ ë³´ê³ 

**ì„±ê³¼ ì§€í‘œ**
- ì§„í–‰ ìƒí™© ì‹¤ì‹œê°„ ì¶”ì  100%
- ëª…ì„¸ì„œ-ì½”ë“œ ë™ê¸°í™”ìœ¨ 95%+

---

### Phase 3: ë¹„ë™ê¸° + ì»¨í…Œì´ë„ˆ (4-6ì£¼)

**ëª©í‘œ**: ë³‘ë ¬ ì²˜ë¦¬ + ê²©ë¦¬ í™˜ê²½ + ì˜¤í† ìŠ¤ì¼€ì¼ë§

**êµ¬í˜„ ì‚¬í•­**

**3.1 í ì‹œìŠ¤í…œ (1ì£¼)**
- [ ] Redis ì„¤ì¹˜ ë° ì„¤ì •
- [ ] TaskQueue êµ¬í˜„
- [ ] Pub/Sub ì´ë²¤íŠ¸ ë²„ìŠ¤
- [ ] ì§€ì‹œì‚¬í•­ ì¤‘ê°„ í™•ì¸ ë©”ì»¤ë‹ˆì¦˜

**3.2 ì»¨í…Œì´ë„ˆ ê²©ë¦¬ (2ì£¼)**
- [ ] Dockerfile ì‘ì„±
  - [ ] ê³µìš© ì»¨í…Œì´ë„ˆ (spec-manager, project-lead)
  - [ ] ê²©ë¦¬ ì»¨í…Œì´ë„ˆ (background-dev)
- [ ] Docker Compose ì„¤ì •
- [ ] ê¶Œí•œ ë¶„ë¦¬ (ì½ê¸° ì „ìš© ë³¼ë¥¨)
- [ ] ë„¤íŠ¸ì›Œí¬ êµ¬ì„±

**3.3 ë°±ê·¸ë¼ìš´ë“œ ì—ì´ì „íŠ¸ íŒ€ (1ì£¼)**
- [ ] ë¹„ë™ê¸° ì‘ì—… ì‹¤í–‰
- [ ] ì¤‘ê°„ ì§€ì‹œì‚¬í•­ í™•ì¸
- [ ] ì§„í–‰ ìƒí™© ë³´ê³ 
- [ ] ë¡œì»¬ í…ŒìŠ¤íŠ¸ ì‹¤í–‰

**3.4 ì˜¤í† ìŠ¤ì¼€ì¼ë§ (1ì£¼)**
- [ ] ContainerManager êµ¬í˜„
- [ ] ìŠ¤ì¼€ì¼ë§ ì •ì±… ì •ì˜
- [ ] ìë™ ìŠ¤ì¼€ì¼ ìŠ¤ì¼€ì¤„ëŸ¬
- [ ] ëª¨ë‹ˆí„°ë§ ëŒ€ì‹œë³´ë“œ

**3.5 í†µí•© ë° í…ŒìŠ¤íŠ¸ (1ì£¼)**
- [ ] ì—”ë“œíˆ¬ì—”ë“œ í…ŒìŠ¤íŠ¸
- [ ] ì„±ëŠ¥ ë²¤ì¹˜ë§ˆí¬
- [ ] ì—ëŸ¬ í•¸ë“¤ë§
- [ ] ë¬¸ì„œí™”

**ì„±ê³¼ ì§€í‘œ**
- ë³‘ë ¬ ì‘ì—… ìˆ˜ 3ë°° ì¦ê°€
- ì „ì²´ ì‘ì—… ì‹œê°„ 50% ë‹¨ì¶•
- ë¦¬ì†ŒìŠ¤ í™œìš©ë¥  80%+

---

### Phase 4: Kubernetes ë§ˆì´ê·¸ë ˆì´ì…˜ (6-8ì£¼)

**ëª©í‘œ**: Docker Compose â†’ Kubernetes + KEDA ì™„ì „ ì „í™˜

**êµ¬í˜„ ì‚¬í•­**

**4.1 Kubernetes í´ëŸ¬ìŠ¤í„° ì„¤ì • (1ì£¼)**
- [ ] K8s í´ëŸ¬ìŠ¤í„° í”„ë¡œë¹„ì €ë‹ (ë¡œì»¬: k3s / í”„ë¡œë•ì…˜: EKS/GKE)
- [ ] PVC RWX ìŠ¤í† ë¦¬ì§€ êµ¬ì„± (EFS/Longhorn)
- [ ] Redis, PostgreSQL StatefulSet ë°°í¬
- [ ] Ingress/NetworkPolicy ì„¤ì •

**4.2 ì—ì´ì „íŠ¸ Pod ë§ˆì´ê·¸ë ˆì´ì…˜ (2ì£¼)**
- [ ] Dockerfile â†’ K8s Deployment ë³€í™˜
- [ ] OpenCode Pod (ì»¨ì„¤í„´íŠ¸) ì™¸ë¶€ ë…¸ì¶œ ì„¤ì •
- [ ] ê° ì—ì´ì „íŠ¸ Podì— Watchman + OpenCode Plugin í†µí•©
- [ ] PVC ë§ˆìš´íŠ¸ ê¶Œí•œ ë¶„ë¦¬ (RO/RWX)

**4.3 KEDA ì˜¤í† ìŠ¤ì¼€ì¼ë§ (1ì£¼)**
- [ ] KEDA ì„¤ì¹˜ ë° ScaledObject ë°°í¬
- [ ] Redis í ê¸°ë°˜ 0â†’6 ìŠ¤ì¼€ì¼ë§ í…ŒìŠ¤íŠ¸
- [ ] Worker Pod emptyDir + diff ì œì¶œ íŒ¨í„´ ê²€ì¦

**4.4 OpenCode Plugin ë¹„ë™ê¸° ë¸Œë¦¿ì§€ (2ì£¼)**
- [ ] Redis Pub/Sub â†” OpenCode ì´ë²¤íŠ¸ ë¸Œë¦¿ì§€ Plugin
- [ ] Watchman íŒŒì¼ ë³€ê²½ â†’ Redis ì•Œë¦¼ Plugin
- [ ] PostgreSQL ì‹œí–‰ì°©ì˜¤ ì¡°íšŒ Plugin
- [ ] `tool:after` í›… ê¸°ë°˜ ìë™ ë³´ê³ 

**4.5 í†µí•© í…ŒìŠ¤íŠ¸ ë° ì•ˆì •í™” (2ì£¼)**
- [ ] ì „ì²´ ì—ì´ì „íŠ¸ E2E ì›Œí¬í”Œë¡œìš° í…ŒìŠ¤íŠ¸
- [ ] ì¥ì•  ì‹œë‚˜ë¦¬ì˜¤ í…ŒìŠ¤íŠ¸ (Pod ì¬ì‹œì‘, PVC ì¥ì• )
- [ ] ì„±ëŠ¥ ë²¤ì¹˜ë§ˆí¬ (ë³‘ë ¬ ì²˜ë¦¬ ì†ë„, ìŠ¤ì¼€ì¼ë§ ë°˜ì‘ ì‹œê°„)
- [ ] Docker Compose í´ë°± ê²½ë¡œ ìœ ì§€

**ì„±ê³¼ ì§€í‘œ**
- Pod 0â†’6 ìŠ¤ì¼€ì¼ë§ ì‹œê°„ < 30ì´ˆ
- ìœ íœ´ ì‹œ ë¦¬ì†ŒìŠ¤ ì‚¬ìš© 0 (KEDA minReplicaCount: 0)
- ì „ì²´ ì‘ì—… ì‹œê°„ 70% ë‹¨ì¶• (Phase 3 ëŒ€ë¹„ ì¶”ê°€ 20%)

---

## ê¸°ì¡´ ì‹œìŠ¤í…œê³¼ì˜ ë§ˆì´ê·¸ë ˆì´ì…˜

### ì ì§„ì  ì „í™˜ ì „ëµ

**1ë‹¨ê³„: ë³‘ë ¬ ìš´ì˜ (Phase 1)**
```
í˜„ì¬ ì‹œìŠ¤í…œ (ë©”ì¸)  â†â†’  ìƒˆ ì‹œìŠ¤í…œ (í…ŒìŠ¤íŠ¸)
- ì‘ì€ ì‘ì—…ì€ ìƒˆ ì‹œìŠ¤í…œ
- í° ì‘ì—…ì€ í˜„ì¬ ì‹œìŠ¤í…œ
```

**2ë‹¨ê³„: ì„ íƒì  ì‚¬ìš© (Phase 2)**
```
ìƒˆ ì‹œìŠ¤í…œ (ë©”ì¸)  â†â†’  í˜„ì¬ ì‹œìŠ¤í…œ (ë°±ì—…)
- ê¸°ë³¸ì€ ìƒˆ ì‹œìŠ¤í…œ
- ë¬¸ì œ ë°œìƒ ì‹œ í´ë°±
```

**3ë‹¨ê³„: ì™„ì „ ì „í™˜ (Phase 3)**
```
ìƒˆ ì‹œìŠ¤í…œ (ìœ ì¼)
- í˜„ì¬ ì‹œìŠ¤í…œ ì œê±°
```

### í˜¸í™˜ì„± ìœ ì§€ ë°©ì•ˆ

**ì—ì´ì „íŠ¸ ì¸í„°í˜ì´ìŠ¤ í‘œì¤€í™”**
```typescript
// âš ï¸ ë¡œì§ ì´í•´ìš© ì˜ˆì‹œ ì½”ë“œ â€” ì‹¤ì œ ì—ì´ì „íŠ¸ëŠ” .agents/agents/*.md í”„ë¡¬í”„íŠ¸ë¡œ êµ¬í˜„
// agent-interface.ts
interface Agent {
  readonly name: string;
  readonly version: string;
  
  execute(input: AgentInput): Promise<AgentOutput>;
  canHandle(task: Task): boolean;
}

// ê¸°ì¡´ ì—ì´ì „íŠ¸ ë˜í¼
class LegacyAgentWrapper implements Agent {
  constructor(private legacyAgent: any) {}
  
  async execute(input: AgentInput): Promise<AgentOutput> {
    // ìƒˆ ì¸í„°í˜ì´ìŠ¤ â†’ ê¸°ì¡´ ì¸í„°í˜ì´ìŠ¤ ë³€í™˜
    const legacyInput = this.convertInput(input);
    const legacyOutput = await this.legacyAgent.run(legacyInput);
    return this.convertOutput(legacyOutput);
  }
}
```

**ëª…ì„¸ì„œ ë§ˆì´ê·¸ë ˆì´ì…˜ ë„êµ¬**
```typescript
// âš ï¸ ë¡œì§ ì´í•´ìš© ì˜ˆì‹œ ì½”ë“œ â€” ì‹¤ì œ ì—ì´ì „íŠ¸ëŠ” .agents/agents/*.md í”„ë¡¬í”„íŠ¸ë¡œ êµ¬í˜„
// migrate-spec.ts
class SpecMigrator {
  async migrateFromChecklist(checklistPath: string): Promise<Specification> {
    // ê¸°ì¡´ ì²´í¬ë¦¬ìŠ¤íŠ¸ â†’ ëª…ì„¸ì„œ ë³€í™˜
    const checklist = await this.loadChecklist(checklistPath);
    
    return {
      id: generateId(),
      version: '1.0.0',
      status: 'draft',
      requirements: checklist.items.map(item => ({
        id: generateId(),
        description: item.text,
        priority: 'medium',
        status: item.checked ? 'completed' : 'pending',
      })),
      tasks: [],  // ìë™ ìƒì„± í•„ìš”
      progress: this.calculateProgress(checklist),
    };
  }
}
```

### ë¡¤ë°± ê³„íš

```typescript
// âš ï¸ ë¡œì§ ì´í•´ìš© ì˜ˆì‹œ ì½”ë“œ â€” ì‹¤ì œ ì—ì´ì „íŠ¸ëŠ” .agents/agents/*.md í”„ë¡¬í”„íŠ¸ë¡œ êµ¬í˜„
// rollback.ts
class SystemRollback {
  async rollbackToLegacy(): Promise<void> {
    // 1. ì§„í–‰ ì¤‘ì¸ ì‘ì—… ì €ì¥
    const inProgressTasks = await this.saveInProgressTasks();
    
    // 2. ì»¨í…Œì´ë„ˆ ì¤‘ì§€
    await this.containerManager.stopAll();
    
    // 3. ê¸°ì¡´ ì‹œìŠ¤í…œ ì¬ì‹œì‘
    await this.legacySystem.start();
    
    // 4. ì‘ì—… ë³µì›
    await this.legacySystem.restoreTasks(inProgressTasks);
    
    console.log('âœ… ê¸°ì¡´ ì‹œìŠ¤í…œìœ¼ë¡œ ë¡¤ë°± ì™„ë£Œ');
  }
}
```

---

## ë¶€ë¡: ì‹œìŠ¤í…œ ë¹„êµí‘œ

| í•­ëª© | v2.0.0 (Redis) | v3.0.0 (NATS) | ê°œì„ ìœ¨ |
|------|---------------|--------------|--------|
| **ì‹¤í–‰ ë°©ì‹** | ë¹„ë™ê¸° (ë³‘ë ¬) | ë¹„ë™ê¸° (ë³‘ë ¬) | - |
| **ë³‘ë ¬ ì‘ì—… ìˆ˜** | 3-10ê°œ | 3-10ê°œ | - |
| **í†µì‹  ë°©ì‹** | Redis 24ì±„ë„ | NATS í•‘ + spec íŒŒì¼ | **ë‹¨ìˆœí™”** |
| **MQ RAM** | 100~300MB | ~50MB | **-50~-83%** |
| **Pod ìˆ˜** | 8ê°œ ê³ ì • + 0â†’6 Worker | 4ê°œ ê³ ì • + 0â†’3 Worker | **-50%** |
| **Worker ìµœëŒ€** | 6ê°œ | 3ê°œ | **-50%** |
| **ëª¨ë‹ˆí„°ë§** | Prometheus ìŠ¤íƒ (1GB+) | kubectl logs + k9s | **-1GB** |
| **Git push** | ì—ì´ì „íŠ¸ ê°€ëŠ¥ (ìë™ ìŠ¹ì¸) | âŒ ê¸ˆì§€ (ì‚¬ëŒë§Œ) | **ë³´ì•ˆ â†‘** |
| **ì´ RAM (ìµœëŒ€)** | ~8GB | ~6.15GB | **-23%** |
| **ìƒíƒœ ê´€ë¦¬** | PostgreSQL + Redis | PostgreSQL + spec íŒŒì¼ | **ë‹¨ìˆœí™”** |
| **ìŠ¤ì¼€ì¼ë§** | KEDA Redis scaler | KEDA NATS scaler | - |

### v3.0.0 ì£¼ìš” ê°œì„  ì‚¬í•­

1. **ë¦¬ì†ŒìŠ¤ íš¨ìœ¨ì„±**: 2GB RAM ì ˆì•½ (MQ + ëª¨ë‹ˆí„°ë§ + Pod í†µí•©)
2. **í†µì‹  ë‹¨ìˆœí™”**: Redis 24ì±„ë„ â†’ ëª…ì„¸ì„œ ì¤‘ì‹¬ í†µì‹  (NATS í•‘)
3. **ë³´ì•ˆ ê°•í™”**: ì—ì´ì „íŠ¸ push ê¸ˆì§€, ë³´ì•ˆ ìŠ¤ìº” í•„ìˆ˜
4. **ìœ ì§€ë³´ìˆ˜ ê°„ì†Œí™”**: ëª¨ë‹ˆí„°ë§ ìŠ¤íƒ ì œê±° â†’ kubectl logs + k9s

---

## MCP ì„œë²„ & ìŠ¤í‚¬ ë§¤í•‘

### MCP ì„œë²„ ë°°ì¹˜

| ì—ì´ì „íŠ¸ | ì¶”ì²œ MCP ì„œë²„ | ìš©ë„ |
|----------|---------------|------|
| ì»¨ì„¤í„´íŠ¸ | Context7, Exa | ë¼ì´ë¸ŒëŸ¬ë¦¬ ë¬¸ì„œ ì¡°íšŒ, ìµœì‹  ì •ë³´ ê²€ìƒ‰ |
| ëª…ì„¸ì„œ ê´€ë¦¬ì | â€” (MCP ë¶ˆí•„ìš”) | Watchman + Redisë§Œìœ¼ë¡œ ì¶©ë¶„ |
| í”„ë¡œì íŠ¸ ë¦¬ë“œ | Context7, Grep.app | ê¸°ìˆ  ìŠ¤íƒ ë¬¸ì„œ, í”„ë¡œë•ì…˜ ì½”ë“œ íŒ¨í„´ ì°¸ê³  |
| Worker (ê°œë°œ) | Context7, Grep.app | API ì‚¬ìš©ë²• ì¡°íšŒ, êµ¬í˜„ íŒ¨í„´ ì°¸ê³  |
| Worker (í…ŒìŠ¤íŠ¸) | Context7 | í…ŒìŠ¤íŠ¸ ë¼ì´ë¸ŒëŸ¬ë¦¬ (Vitest/Playwright/fast-check) ë¬¸ì„œ |
| ë¦¬ë·°ì–´ | Semgrep, Context7 | ë³´ì•ˆ ì·¨ì•½ì  ìŠ¤ìº”, ë² ìŠ¤íŠ¸ í”„ë™í‹°ìŠ¤ ê²€ì¦ |
| ì‹ ì… | Context7, Exa | í•™ìŠµ ëª©ì  ë¬¸ì„œ ì¡°íšŒ, ì˜ì‚¬ê²°ì • ê·¼ê±° ê²€ìƒ‰ |
| Git Manager | GitHub MCP | PR/Issue ê´€ë¦¬, CI/CD ìƒíƒœ í™•ì¸ |
| doc-manager | Context7 | ë¬¸ì„œ ì°¸ì¡° ì •í™•ì„± ê²€ì¦ |

### ìŠ¤í‚¬ ë°°ì¹˜

| ìŠ¤í‚¬ | ì‚¬ìš© ì—ì´ì „íŠ¸ | ìƒíƒœ | ë¹„ê³  |
|------|---------------|------|------|
| typescript-write | Worker (ê°œë°œ), í”„ë¡œì íŠ¸ ë¦¬ë“œ | ê¸°ì¡´ | ì½”ë“œ ìŠ¤íƒ€ì¼ ì¤€ìˆ˜ |
| frontend-design | Worker (ê°œë°œ) | ê¸°ì¡´ | UI ì»´í¬ë„ŒíŠ¸ êµ¬í˜„ |
| documentation-lookup | ì»¨ì„¤í„´íŠ¸, í”„ë¡œì íŠ¸ ë¦¬ë“œ, Worker | ê¸°ì¡´ | ë¼ì´ë¸ŒëŸ¬ë¦¬ API ì°¸ì¡° |
| webapp-testing | Worker (í…ŒìŠ¤íŠ¸) | ê¸°ì¡´ | Playwright E2E |
| agent-identifier | ì»¨ì„¤í„´íŠ¸ | ê¸°ì¡´ | ì—ì´ì „íŠ¸ ê°œë°œ/ìˆ˜ì • |
| skill-creator | í”„ë¡œì íŠ¸ ë¦¬ë“œ | ê¸°ì¡´ | ìƒˆ ìŠ¤í‚¬ í•„ìš” ì‹œ |
| spec-management | ëª…ì„¸ì„œ ê´€ë¦¬ì | ğŸ†• ì‹ ê·œ | ëª…ì„¸ì„œ í¬ë§·/ìƒíƒœ ê´€ë¦¬ |
| code-review | ë¦¬ë·°ì–´ | ğŸ†• ì‹ ê·œ | FSD ê²€ì¦, ë³´ì•ˆ ì²´í¬ |
| learning-journal | ì‹ ì… | ğŸ†• ì‹ ê·œ | ì§ˆë¬¸ ìƒì„±, ì‹œí–‰ì°©ì˜¤ ê¸°ë¡ |
| git-workflow | Git Manager | ğŸ†• ì‹ ê·œ | Git Flow, PR ìë™í™” |

### PostgreSQL ì ‘ê·¼ ê¶Œí•œ

| ì—ì´ì „íŠ¸ | ì ‘ê·¼ ìˆ˜ì¤€ | ìš©ë„ |
|----------|-----------|------|
| ëª…ì„¸ì„œ ê´€ë¦¬ì | READ/WRITE | ëª…ì„¸ì„œ ìƒíƒœ, ì‘ì—… ì´ë ¥ ì €ì¥ |
| í”„ë¡œì íŠ¸ ë¦¬ë“œ | READ | ì‹œí–‰ì°©ì˜¤ ìœ ì‚¬ë„ ê²€ìƒ‰ (pgvector) |
| ë¦¬ë·°ì–´ | READ | ê³¼ê±° ë¦¬ë·° íŒ¨í„´ ì°¸ì¡° |
| ì‹ ì… | READ/WRITE | ì§ˆë¬¸/í•™ìŠµ ê¸°ë¡ ì €ì¥, ì‹œí–‰ì°©ì˜¤ ì¡°íšŒ |
| Worker | READ | ìœ ì‚¬ ì‹œí–‰ì°©ì˜¤ ì¡°íšŒ (ë°˜ë³µ ë°©ì§€) |
| Git Manager | READ | ì»¤ë°‹ ì´ë ¥ ë©”íƒ€ë°ì´í„° ì¡°íšŒ |

---

## ì°¸ê³  ìë£Œ

- [agent-system.md](../agent-system.md) - í˜„ì¬ ì—ì´ì „íŠ¸ ì‹œìŠ¤í…œ
- [architecture.md](../architecture.md) - FSD ì•„í‚¤í…ì²˜
- [git-flow.md](../git-flow.md) - Git ì›Œí¬í”Œë¡œìš°
- [async-communication.md](./async-communication.md) - **v3.0.0 ë¹„ë™ê¸° í†µì‹  ìƒì„¸ ì„¤ê³„** (NATS í•‘ ê¸°ë°˜)
- [Docker Documentation](https://docs.docker.com/)
- [Kubernetes Documentation](https://kubernetes.io/docs/)
- [KEDA](https://keda.sh/)
- [NATS Documentation](https://docs.nats.io/) - **v3.0.0 ì¶”ê°€**
- [Meta Watchman](https://facebook.github.io/watchman/)
- [pgvector](https://github.com/pgvector/pgvector)
- [Context7 MCP](https://github.com/upstash/context7)

---

**ì‘ì„±ì¼**: 2025-02-17  
**ìˆ˜ì •ì¼**: 2026-02-19  
**ë²„ì „**: 3.0.0  
**ì‘ì„±ì**: doc-manager  
**ê²€í† ì**: -

### ë³€ê²½ ì´ë ¥

- **v3.0.0** (2026-02-19): Redis â†’ NATS Core, Pod í†µí•© (8â†’4+Worker), Git push ê¸ˆì§€, ëª¨ë‹ˆí„°ë§ ê²½ëŸ‰í™”
- **v2.0.0** (2026-02-17): ë©€í‹° ì—ì´ì „íŠ¸ ì‹œìŠ¤í…œ ì•„í‚¤í…ì²˜ ì´ˆì•ˆ
