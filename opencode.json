{
  "$schema": "https://opencode.ai/config.json",
  "autoupdate": true,
  "watcher": {
    "ignore": [
      "node_modules/**",
      "dist/**",
      ".git/**",
      ".agents/skills/**",
      "*.pem",
      "*.key",
      "*.p12",
      "*.pfx",
      "*.crt",
      ".ssh/**",
      "id_rsa*",
      "id_ed25519*",
      ".idea/**",
      ".vscode/**",
      ".DS_Store",
      "Thumbs.db",
      "pnpm-lock.yaml"
    ]
  },
  "mcp": {
    "exa": {
      "type": "remote",
      "url": "https://mcp.exa.ai/mcp",
      "enabled": true
    },
    "grep": {
      "type": "remote",
      "url": "https://mcp.grep.app",
      "enabled": true
    },
    "context7": {
      "type": "remote",
      "url": "https://mcp.context7.com/mcp",
      "headers": {
        "CONTEXT7_API_KEY": "{env:CONTEXT7_API_KEY}"
      }
    },
    "serena": {
      "type": "local",
      "command": [
        "uvx",
        "--from",
        "git+https://github.com/oraios/serena",
        "serena",
        "start-mcp-server",
        "--context",
        "ide-assistant",
        "--project",
        ".",
        "--open-web-dashboard",
        "false"
      ]
    }
  },
  "instructions": ["docs/agents.md"],
  "agent": {
    "build": {
      "disable": true
    },
    "master-orchestrator": {
      "mode": "primary",
      "description": "Primary orchestrator that analyzes requests and delegates to specialized subagents. Does NOT write code, tests, or documentation directly - only coordinates workflow via Task tool.",
      "prompt": "{file:.agents/agents/master-orchestrator.md}",
      "permission": {
        "task": {
          "*": "allow"
        },
        "read": {
          "*": "allow",
          "*.env": "deny",
          "*.env.*": "deny"
        },
        "write": {
          "*": "deny"
        },
        "edit": {
          "*": "deny"
        },
        "bash": {
          "*": "deny",
          "date": "allow",
          "echo *": "deny",
          "mkdir .worktrees/*": "allow",
          "mkdir docs/*": "allow",
          "sleep *": "allow",
          "pnpm install": "ask",
          "pnpm update": "ask",
          "pnpm test": "allow",
          "pnpm coverage": "allow",
          "pnpm lint": "allow",
          "pnpm tsc": "allow",
          "pnpm exec vitest": "allow",
          "pnpm exec tsc": "allow",
          "webfetch": "allow",
          "ls ": "allow",
          "wc ": "allow",
          "git status": "allow",
          "git diff": "allow",
          "git log": "allow",
          "git branch --show-current": "allow",
          "git branch --list": "allow",
          "gh pr view *": "allow",
          "gh pr checks *": "allow"
        }
      }
    },
    "feature-developer": {
      "mode": "subagent",
      "description": "Develops new features and UI components following FSD architecture and project coding standards. Does NOT write test code - test-specialist handles testing.",
      "prompt": "{file:.agents/agents/feature-developer.md}",
      "hidden": true,
      "permission": {
        "bash": {
          "*": "ask",
          "ls ": "allow",
          "pnpm test": "allow",
          "pnpm coverage": "allow",
          "pnpm lint": "allow",
          "pnpm tsc": "allow",
          "pnpm exec vitest": "allow",
          "pnpm exec tsc": "allow",
          "wc": "allow",
          "git status": "allow",
          "git status --short": "allow",
          "git diff": "allow",
          "git diff --staged": "allow",
          "git log": "allow",
          "git branch --show-current": "allow",
          "git branch --list": "allow",
          "git add src/**/*.ts": "ask",
          "git add src/**/*.tsx": "ask",
          "git add *.config.ts": "ask",
          "gh pr view *": "allow",
          "gh pr checks *": "allow"
        }
      }
    },
    "test-specialist": {
      "mode": "subagent",
      "description": "Writes comprehensive tests including Unit (Vitest), Property-based (fast-check), E2E (Playwright), and Storybook stories. Ensures code quality through thorough testing coverage.",
      "prompt": "{file:.agents/agents/test-specialist.md}",
      "hidden": true,
      "permission": {
        "bash": {
          "*": "ask",
          "ls": "allow",
          "pnpm test": "allow",
          "pnpm coverage": "allow",
          "pnpm lint": "allow",
          "pnpm tsc": "allow",
          "pnpm exec vitest": "allow",
          "pnpm exec tsc": "allow",
          "pnpm storybook": "allow",
          "pnpm build-storybook": "allow",
          "wc": "allow",
          "git status": "allow",
          "git status --short": "allow",
          "git diff": "allow",
          "git diff --staged": "allow",
          "git log": "allow",
          "git branch --show-current": "allow",
          "git branch --list": "allow",
          "git add src/**/*.test.ts": "ask",
          "git add src/**/*.test.tsx": "ask",
          "git add src/**/*.stories.tsx": "ask",
          "gh pr view *": "allow",
          "gh pr checks *": "allow"
        }
      }
    },
    "lint-formatter": {
      "mode": "subagent",
      "description": "Fixes formatting and linting errors without changing code behavior",
      "prompt": "{file:.agents/agents/lint-formatter.md}",
      "hidden": true,
      "permission": {
        "read": {
          "*": "allow",
          "*.env": "deny",
          "*.env.*": "deny"
        },
        "write": {
          "*": "deny"
        },
        "edit": {
          "src/**/*.ts": "ask",
          "src/**/*.tsx": "ask",
          "*.config.ts": "ask"
        },
        "bash": {
          "*": "ask",
          "ls": "allow",
          "pnpm fmt": "allow",
          "pnpm lint": "allow",
          "pnpm lint --fix": "allow",
          "pnpm tsc --noEmit": "allow",
          "pnpm exec tsc --noEmit": "allow",
          "wc": "allow",
          "git status": "allow",
          "git status --short": "allow",
          "git diff": "allow",
          "git add src/**/*.ts": "ask",
          "git add src/**/*.tsx": "ask",
          "git add *.config.ts": "ask"
        }
      }
    },
    "security-scanner": {
      "mode": "subagent",
      "description": "Read-only security scanner that detects sensitive data exposure, dependency vulnerabilities, and insecure code patterns. Does NOT modify code - only reports findings.",
      "prompt": "{file:.agents/agents/security-scanner.md}",
      "hidden": true,
      "permission": {
        "read": {
          "*": "allow",
          "*.env": "deny",
          "*.env.*": "deny",
          "pnpm-lock.yaml": "allow"
        },
        "write": {
          "*": "deny"
        },
        "edit": {
          "*": "deny"
        },
        "bash": {
          "*": "ask",
          "ls": "allow",
          "pnpm audit": "allow",
          "pnpm audit --json": "allow",
          "wc": "allow",
          "git status": "allow",
          "git status --short": "allow",
          "git diff": "allow",
          "git show *": "allow",
          "git log": "allow",
          "git ls-tree -r HEAD --name-only": "allow",
          "git branch --show-current": "allow",
          "git branch --list": "allow",
          "gh pr view *": "allow",
          "gh pr checks *": "allow"
        }
      }
    },
    "doc-manager": {
      "mode": "subagent",
      "description": "Manages and maintains all project documentation including agent prompts",
      "prompt": "{file:.agents/agents/doc-manager.md}",
      "hidden": true,
      "permission": {
        "read": {
          "*": "allow",
          "*.env": "deny",
          "*.env.*": "deny"
        },
        "write": {
          "*": "deny",
          "docs/*.md": "allow",
          ".agents/agents/*.md": "allow"
        },
        "edit": {
          "*": "deny",
          "docs/*.md": "allow",
          ".agents/agents/*.md": "allow"
        },
        "bash": {
          "*": "ask",
          "ls": "allow",
          "wc": "allow",
          "git status": "allow",
          "git diff": "allow",
          "git log": "allow",
          "git branch --show-current": "allow",
          "git add docs/*.md": "ask",
          "git add .agents/agents/*.md": "ask",
          "gh pr view *": "allow"
        }
      }
    },
    "git-guardian": {
      "mode": "subagent",
      "description": "Git Flow workflow management (main ← develop ← feature branches) with safe version control, standardized Korean commit messages, and conflict resolution support.",
      "prompt": "{file:.agents/agents/git-guardian.md}",
      "hidden": true,
      "permission": {
        "read": {
          "*": "allow",
          "*.env": "deny",
          "*.env.*": "deny",
          ".git/config": "allow",
          ".git/HEAD": "allow",
          ".git/MERGE_HEAD": "allow"
        },
        "write": {
          "*": "deny"
        },
        "edit": {
          "*": "deny"
        },
        "bash": {
          "*": "ask",
          "date": "allow",
          "ls": "allow",
          "rm -f .git/index.lock": "allow",
          "git status": "allow",
          "git diff": "allow",
          "git log": "allow",
          "git branch --show-current": "allow",
          "git branch --list": "allow",
          "git fetch origin": "allow",
          "git fetch --all": "allow",
          "git checkout -b *": "allow",
          "git checkout develop": "allow",
          "git checkout main": "allow",
          "git add .": "ask",
          "git add -A": "ask",
          "git add src/**/*": "ask",
          "git add docs/*.md": "ask",
          "git add .agents/agents/*.md": "ask",
          "git add *.config.ts": "ask",
          "git add opencode.json": "ask",
          "git reset HEAD *": "allow",
          "git stash": "allow",
          "git stash pop": "allow",
          "git stash list": "allow",
          "git stash drop": "ask",
          "git worktree add *": "allow",
          "git worktree list": "allow",
          "git worktree remove *": "ask",
          "git merge --no-ff *": "ask",
          "git merge --abort": "allow",
          "git rm --cached .env*": "allow",
          "git rm --cached node_modules/*": "allow",
          "git config --get *": "allow",
          "git commit -m *": "ask",
          "TIMESTAMP=$(date +%Y%m%d-%H%M%S) && git checkout -b *": "allow"
        }
      }
    },
    "github-helper": {
      "mode": "subagent",
      "description": "GitHub integration via gh CLI for PR management (create/review/merge), CI/CD monitoring, and Issue tracking. Uses squash merge by default with auto branch cleanup.",
      "prompt": "{file:.agents/agents/github-helper.md}",
      "hidden": true,
      "permission": {
        "read": {
          "*": "allow",
          "*.env": "deny",
          "*.env.*": "deny"
        },
        "write": {
          "*": "deny"
        },
        "edit": {
          "*": "deny"
        },
        "bash": {
          "*": "ask",
          "ls": "allow",
          "git status": "allow",
          "git diff": "allow",
          "git log": "allow",
          "git branch --show-current": "allow",
          "gh pr create *": "ask",
          "gh pr view *": "allow",
          "gh pr list": "allow",
          "gh pr checks *": "allow",
          "gh pr comment *": "ask",
          "gh pr merge *": "ask",
          "gh issue create *": "ask",
          "gh issue view *": "allow",
          "gh issue list": "allow",
          "gh run list": "allow",
          "gh run view *": "allow",
          "gh api repos/*/*/pulls/*/comments": "allow"
        }
      }
    }
  },
  "permission": {
    "rm *": "deny",
    "cp *": "deny",
    "mv *": "deny",
    "echo *": "deny",
    "read": {
      "*": "allow",
      "*.env": "deny",
      "*.env.*": "deny",
      "*.env.example": "allow",
      "*.pem": "deny",
      "*.key": "deny",
      "*.p12": "deny",
      "*.pfx": "deny",
      "*.crt": "deny",
      ".ssh/**": "deny",
      "id_rsa*": "deny",
      "id_ed25519*": "deny",
      ".git/**": "deny",
      ".idea/**": "deny",
      ".vscode/**": "deny",
      "dist/**": "deny",
      "node_modules/**": "deny",
      "pnpm-lock.yaml": "deny",
      ".DS_Store": "deny",
      "Thumbs.db": "deny"
    },
    "git commit *": "deny",
    "git push *": "deny",
    "git reset --hard *": "deny",
    "git rebase *": "deny",
    "bash": "ask",
    "zsh": "ask",
    "pnpm install": "ask",
    "pnpm update": "ask",
    "pnpm test": "allow",
    "pnpm coverage": "allow",
    "pnpm lint": "allow",
    "pnpm tsc": "allow",
    "pnpm exec vitest": "allow",
    "pnpm exec tsc": "allow",
    "task": "allow",
    "webfetch": "allow",
    "websearch": "allow",
    "grep": "allow",
    "glob": "allow",
    "lsp": "allow",
    "skill": "allow",
    "todowrite": "allow",
    "todoread": "allow",
    "question": "allow",
    "bash .agents/skills/agent-identifier/scripts/validate-agent.sh *": "allow",
    "ls": "allow",
    "wc": "allow",
    "rm -f .git/index.lock": "allow",
    "git status": "allow",
    "git diff": "allow",
    "git log": "allow",
    "git branch --show-current": "allow",
    "git branch --list": "allow",
    "git fetch *": "allow",
    "git checkout -b *": "allow",
    "git checkout develop": "allow",
    "git checkout main": "allow",
    "git add .": "ask",
    "git add -A": "ask",
    "git add *.ts": "ask",
    "git add *.tsx": "ask",
    "git add docs/*.md": "allow",
    "git reset HEAD *": "allow",
    "git stash": "allow",
    "git stash pop": "allow",
    "git stash list": "allow",
    "git worktree add *": "allow",
    "git worktree list": "allow",
    "git worktree remove *": "ask",
    "git merge --no-ff *": "ask",
    "git rm --cached .env*": "allow",
    "git rm --cached node_modules/*": "allow",
    "git config --get *": "allow",
    "git commit --no-verify *": "deny",
    "TIMESTAMP=$(date +%Y%m%d-%H%M%S) && git checkout -b *": "allow",
    "gh pr view *": "allow",
    "gh pr checks *": "allow"
  },
  "plugin": [
    "@mohak34/opencode-notifier@latest",
    "@franlol/opencode-md-table-formatter@0.0.3"
  ]
}
